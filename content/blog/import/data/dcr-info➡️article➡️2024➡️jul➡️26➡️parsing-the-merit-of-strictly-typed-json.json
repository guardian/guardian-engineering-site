{
  "version": 3,
  "headline": "Parsing: the merit of strictly typed JSON",
  "standfirst": "<p>Dealing with content that keeps changing can lead to bugs on users’ devices that are hard to reproduce. By precisely describing the shape of the content using types and ensuring it matches, exceptions can be avoided and users shown helpful messages when errors occur. This post will illustrate how this can be achieved with standard web technologies.</p>",
  "webTitle": "Parsing: the merit of strictly typed JSON",
  "mainMediaElements": [
    {
      "displayCredit": true,
      "_type": "model.dotcomrendering.pageElements.ImageBlockElement",
      "role": "inline",
      "media": {
        "allImages": [
          {
            "index": 0,
            "fields": {
              "height": "1200",
              "width": "2000"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/2000.jpg"
          },
          {
            "index": 1,
            "fields": {
              "height": "600",
              "width": "1000"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/1000.jpg"
          },
          {
            "index": 2,
            "fields": {
              "height": "300",
              "width": "500"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/500.jpg"
          },
          {
            "index": 3,
            "fields": {
              "height": "84",
              "width": "140"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/140.jpg"
          },
          {
            "index": 4,
            "fields": {
              "height": "4500",
              "width": "7500"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/7500.jpg"
          },
          {
            "index": 5,
            "fields": {
              "isMaster": "true",
              "height": "4500",
              "width": "7500"
            },
            "mediaType": "Image",
            "mimeType": "image/jpeg",
            "url": "https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg"
          }
        ]
      },
      "elementId": "f0989833-3d9d-4aae-b291-17d2172465a5",
      "imageSources": [
        {
          "weighting": "inline",
          "srcSet": [
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=620&quality=85&auto=format&fit=max&s=07102c8a9072bbc72b3e304089dd69ca",
              "width": 620
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=6ec1c2aa4b4b214b09694c3adcb98307",
              "width": 1240
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=85&auto=format&fit=max&s=cfc4eba9cdb693fd0333d190cad9fa1b",
              "width": 700
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=410d82a58fac5a0d0885daa1f1b9cc7d",
              "width": 1400
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=620&quality=85&auto=format&fit=max&s=07102c8a9072bbc72b3e304089dd69ca",
              "width": 620
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=6ec1c2aa4b4b214b09694c3adcb98307",
              "width": 1240
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=645&quality=85&auto=format&fit=max&s=85b857ff5849788194b5bd6a145d3a62",
              "width": 645
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=e2302a7cf5d3e231a5f43be46724402f",
              "width": 1290
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=465&quality=85&auto=format&fit=max&s=c08f55b05ca95ff46c1adf8c7dde5246",
              "width": 465
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=bcd4c2c8f40d7484db05550b866f90a4",
              "width": 930
            }
          ]
        },
        {
          "weighting": "thumbnail",
          "srcSet": []
        },
        {
          "weighting": "supporting",
          "srcSet": []
        },
        {
          "weighting": "showcase",
          "srcSet": [
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1020&quality=85&auto=format&fit=max&s=af77a41255eabcad727f776acd751c21",
              "width": 1020
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1020&quality=45&auto=format&fit=max&dpr=2&s=af50883faec1771c79dada313d356272",
              "width": 2040
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=940&quality=85&auto=format&fit=max&s=82c6cd6571db07b7576e2f75e946f571",
              "width": 940
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=940&quality=45&auto=format&fit=max&dpr=2&s=963579cdd93dbb2de159772b31c20bb7",
              "width": 1880
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=85&auto=format&fit=max&s=cfc4eba9cdb693fd0333d190cad9fa1b",
              "width": 700
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=410d82a58fac5a0d0885daa1f1b9cc7d",
              "width": 1400
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=85&auto=format&fit=max&s=cfc4eba9cdb693fd0333d190cad9fa1b",
              "width": 700
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=410d82a58fac5a0d0885daa1f1b9cc7d",
              "width": 1400
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=660&quality=85&auto=format&fit=max&s=e549b7ee06fde0446d1a23ae620e918f",
              "width": 660
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=dc3adc4a226e5caa662daef9853069fe",
              "width": 1320
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=645&quality=85&auto=format&fit=max&s=85b857ff5849788194b5bd6a145d3a62",
              "width": 645
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=e2302a7cf5d3e231a5f43be46724402f",
              "width": 1290
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=465&quality=85&auto=format&fit=max&s=c08f55b05ca95ff46c1adf8c7dde5246",
              "width": 465
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=bcd4c2c8f40d7484db05550b866f90a4",
              "width": 930
            }
          ]
        },
        {
          "weighting": "halfwidth",
          "srcSet": []
        },
        {
          "weighting": "immersive",
          "srcSet": [
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1900&quality=85&auto=format&fit=max&s=b59889d991474f1758116df7ec2187a8",
              "width": 1900
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1900&quality=45&auto=format&fit=max&dpr=2&s=e61a924c5988c2126a836d47e5cdeb8f",
              "width": 3800
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1300&quality=85&auto=format&fit=max&s=f7d2655518c0170da21a8582ad7a3426",
              "width": 1300
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1300&quality=45&auto=format&fit=max&dpr=2&s=2e25cede29584fb1ffc1245d72eefb47",
              "width": 2600
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1140&quality=85&auto=format&fit=max&s=2eba06c13b00c79690887159a66c7266",
              "width": 1140
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1140&quality=45&auto=format&fit=max&dpr=2&s=b60d064312dd46b5935d04a1167f8efc",
              "width": 2280
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=980&quality=85&auto=format&fit=max&s=23347c73f5d6ef3508ba4cf7748ce454",
              "width": 980
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=980&quality=45&auto=format&fit=max&dpr=2&s=642ab261e3e62781395b9120601401dd",
              "width": 1960
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=740&quality=85&auto=format&fit=max&s=5e42e9271d0391aa33579fbbe32bbf1c",
              "width": 740
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=740&quality=45&auto=format&fit=max&dpr=2&s=d4de507c180b8d8938766936d1a9eb94",
              "width": 1480
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=660&quality=85&auto=format&fit=max&s=e549b7ee06fde0446d1a23ae620e918f",
              "width": 660
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=dc3adc4a226e5caa662daef9853069fe",
              "width": 1320
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=480&quality=85&auto=format&fit=max&s=a6c64231e7ae890553d17fbcb57f63ae",
              "width": 480
            },
            {
              "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=480&quality=45&auto=format&fit=max&dpr=2&s=57320f73b55fe6a9a465acf94f35cdf3",
              "width": 960
            }
          ]
        }
      ],
      "data": {
        "alt": "Through the ages… whether an interstellar battle station’s exhaust vent, a Greek warrior’s heel or a static type analysis tool, the tiniest flaw can lead to catastrophic failures.",
        "caption": "<em>Through the ages… whether an interstellar battle station’s exhaust vent, a Greek warrior’s heel or a static type analysis tool, the tiniest flaw can lead to catastrophic failures.</em>",
        "credit": "Illustration: Max Duval"
      }
    }
  ],
  "main": "<figure class=\"element element-image\" data-media-id=\"4adba267ca620af5d01c92be270b7dd8c60d05a0\"> <img src=\"https://media.guim.co.uk/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/1000.jpg\" alt=\"Through the ages… whether an interstellar battle station’s exhaust vent, a Greek warrior’s heel or a static type analysis tool, the tiniest flaw can lead to catastrophic failures.\" width=\"1000\" height=\"600\" class=\"gu-image\" /> <figcaption> <span class=\"element-image__caption\"><em>Through the ages… whether an interstellar battle station’s exhaust vent, a Greek warrior’s heel or a static type analysis tool, the tiniest flaw can lead to catastrophic failures.</em></span> <span class=\"element-image__credit\">Illustration: Max Duval</span> </figcaption> </figure>",
  "filterKeyEvents": false,
  "keyEvents": [],
  "blocks": [
    {
      "id": "66a3b9d48f0812eb5b00ea15",
      "elements": [
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>The programming language of the web is JavaScript (JS), but its lack of static typing is <a href=\"https://2023.stateofjs.com/en-US/features/#language_pain_points\">the top pain point raised from the 2023 State of JS</a> survey. We rely on <a href=\"https://www.typescriptlang.org/\">TypeScript</a> (TS) to get a strong structural type analysis of our code, as mentioned in <a href=\"https://www.theguardian.com/info/2023/oct/24/standardisation-the-merit-of-consistent-patterns\">our article on standardisation</a>. Static typing helps prevent runtime errors on our users’ machines. However, to ensure that no TypeError ever appears, we need to avoid the loose ‘any’ type, which is an escape hatch designed to opt-out of TS’ static analysis.</p>",
          "elementId": "9361d5dc-cb8f-4ea5-9f1e-409f3e8a0633"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>JavaScript Object Notation (JSON) is widely used as a data exchange format for REST APIs. Its syntax is compatible with JS, with only a subset of the language’s primitives: objects, arrays, strings, numbers and nulls. Simple objects can be turned into a string with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\">JSON.stringify</a> and turned back into an object with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\">JSON.parse</a>, making it an adequate choice for many uses. We use it for powering our comments, new live blog updates, football match scores, weather, most read and other features of the website and Apps.</p>",
          "elementId": "8e855b34-b0af-4461-be03-9c5ca05e6786"
        },
        {
          "_type": "model.dotcomrendering.pageElements.SubheadingBlockElement",
          "html": "<h2><strong>How things can go wrong</strong></h2>",
          "elementId": "0153a726-7c9b-4813-a546-b75309c6275a"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>The TS compiler is able to analyse code based on the types description objects and functions. For code that you write, this will be done via annotations alongside your code, either using its own syntax or JSDocs. For the browser APIs, Microsoft provides the DOM declaration files which are aligned with versions of the ECMAScript specification. For example, <a href=\"https://github.com/microsoft/TypeScript/blob/3163fe7e3898c1f48cd9bc097b96e3426cd2a453/src/lib/es5.d.ts#L1144\">calls to ‘JSON.parse’ will return ‘any’</a> in <a href=\"https://en.wikipedia.org/wiki/ECMAScript_version_history#5th_Edition_%E2%80%93_ECMAScript_2009\">ES5</a>. As mentioned above, this means these objects are opted out of static analysis. This means that we can no longer rely on the compiler for catching errors that could occur on users’ devices before we publish our code.</p>",
          "elementId": "947ef3d2-cd4f-4d97-a0b5-233b9ed58811"
        },
        {
          "_type": "model.dotcomrendering.pageElements.CodeBlockElement",
          "isMandatory": false,
          "language": "yaml",
          "elementId": "c78fb4c8-b829-48bb-a84b-89214fc68362",
          "html": "const object = JSON.parse(`{\n  \"key\": \"value\",\n  \"year\": 1821,\n}`)\n\n// TypeScript is unable to catch that accessing\n// these keys will throw a TypeError:\n// can't access property \"shape\", \"wrong\" is undefined\nobject.wrong.shape;\n"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>Things can get even more confusing if you <a href=\"https://www.typescriptlang.org/play/?#code/C4TwDgpgBAygFgQ0lAvFA3gKClEEEBOAXFAHYCuAtgEYQEDc2UEAHpAMbAQAmJ6UANwQAbchBLUA9pOH5SUAL6MlmTAHoAVBuwaowONAAqMKO0mUwAS1kFTk0gDNLBSgGc9iYB8vvJ1AFYQnDpQrgjAlk4Q7vrQrBxc3FAABvBIEMk6aphmpK5eQsKWSWhYOHiEJABMAAxVACwANEzxQYl8giJiJMAEYorNCqHhPlHuaZCM6lohsVDGdhbWdKbh7AYxnt6+AW0h3JLRZJJeYREOIB5xbG08KRMZIQib0GAEkpAEoCmtnDzJUB8UEoPlcllIAHMsjl7PlAaRCsVUBgmBViFAAIwADiqGMGwwirjGsEQk1Umm0UF0AHcDPICEEIJYBOCIVBuOEEFBJAIVnNSBBgNTJAQANYhSxeanWYRQWhQBnsJm8pLPKBc5L5AiszJU7K5OEc4BctAAKRgAHkAHIAOi1rMiIAAFODEdwAJRTA1eESuSQASQRImKJAeyPN1ptYEIrggTqNCE95LUV3mJjMSxsgPc5FICGosj0klWwHWHnC6vYStcYMh6hTsVjUFFEBA7mlwll+ne1PV83AEAAogR3sR66tSAByH1V6LuN4fOjfABEhTEy8aUGXv0Sy+zUFz3AgTgF3EwvoDQaK3BtO54NrXEEYahTODf74-H4AegB+TBAA\">assign a type to the parsed object</a>, as the TS compiler will use that value in the future, turning the ‘any’ into a specific shape. Such errors will be hard to debug, because they will only occur when your code is accessing the undefined properties, rather than when you receive a JSON response from the REST API. As errors will interrupt execution all the way up to the nearest <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling#try...catch_statement\">try…catch statement</a>, they can break large parts of the interactions for your users. These errors can occur because you’ve inadvertently declared the wrong shape, but they could also start appearing if the API changes its schema. If you have chosen TS for its ability to prevent runtime errors, these kinds of surprises are exactly what you were trying to avoid in the first place.</p>",
          "elementId": "803ba135-1c35-4256-97a5-7976273a9b7c"
        },
        {
          "_type": "model.dotcomrendering.pageElements.SubheadingBlockElement",
          "html": "<h2><strong>Check everything is as expected</strong></h2>",
          "elementId": "6eca0cc0-5ffa-40ed-859f-a8e18ca3e8a1"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>“For some developers, it may be more informative to see a production implementation, so we implemented an example of this pattern in <a href=\"https://github.com/guardian/dotcom-rendering/pull/11835\">dotcom-rendering#11835</a>”</p>",
          "elementId": "dc492729-1088-44c8-a5a0-efe3d1ffb33a"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>This problem has been encountered by many developers, and the simplest way to force TS to warn of any possible issues is to explicitly assign the ‘unknown’ type to the object returned from JSON.parse. There is <a href=\"https://github.com/microsoft/TypeScript/issues/26188\">a proposal for this to become the default</a> in TS and <a href=\"https://github.com/total-typescript/ts-reset\">a custom declaration library</a> to ensure that your code will gracefully handle any unexpected object shape.</p>",
          "elementId": "5392607b-343b-45b2-8213-7e18a05c5eac"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>Thanks to TS’s control flow analysis, you could check that each of the properties are as you expect them, using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\">‘typeof’ operator</a> recursively, and only accessing valid properties in nested conditional blocks. However, this can easily lead to <a href=\"https://www.typescriptlang.org/play/?module=200#code/IYZwngdgxgBAZgV2gFwJYHsIwOYFNkAquAtgA64BOwyCFuAFAJQBcMAChesaiLgDwQExAEaUAfDADeAKBgwomEMhh0QpRbhgBeGMADuwVMrj4oAC3oByM8mSkQzAPSPgpVADoIuAB7I8Ed2wEYAoAE1RgCFd7dwV3BABrRz1cajNKdwArEExLRll5RWVQ6mBWJASIdD0sHX1DZVV1CF4snIgmAG5pAucYFJhiBCV5dKgEmGQzakn0mBLkYBhpkF0YNVwoVDhUWBBp8gLtmHpkMHJ0OHnS7S0dS3RhTM3kSxgAMnfrxZgAQh1BAAbQEfL6WFJpShvVBYBbARhSApyY6nc64S7fYDuCFTSi3e6PZ5QV6gzHY1K4ih-AEIYGkyzIEjkKg0OjQ2GlcmQigImRyfkwFFnC5XOFcynuRlkSjUWiaO4Ep4vN6fMk49IUSVMmWszT-GBAkGqyzEfAUXbstUUjVa6UsuW8pECwVXVEiq3c23M2V0dym5Dm2AKmCWQQiKGO53OuisjmLcU2qXe3V+s27bpRuQAXyd2adObzBSmnD0MAIaIAohROBQrAA5dAwABuwEBqFCk219rZjG6OZ6TfQ7Zw+CIdp9DEYkvSHVOXYnCK0EgULXQgNw7kB6Gw9AABgBJZQ8GAAEkkSZ1cqzAAaAMK7xi9npAA\">repetitive boilerplate for objects with complex shapes</a>.</p>",
          "elementId": "d8faaa19-0b26-4e9b-a586-f20171920e8b"
        },
        {
          "_type": "model.dotcomrendering.pageElements.CodeBlockElement",
          "isMandatory": false,
          "language": "yaml",
          "elementId": "465bb28f-b47e-417d-857d-da8f550bc5b5",
          "html": "async function getTemperature(): Promise<number> {\n  const response = await fetch('https://api.nextgen.guardianapps.co.uk/weather.json')\n  const data: unknown = await response.json();\n\n  // we must check that the data has a specific shape\n  if (typeof data === 'object' && data != null && 'weather' in data) {\n    if (typeof data.weather === 'object' && data.weather != null && 'temperature' in data.weather) {\n      if (typeof data.weather.temperature === 'object' && data.weather.temperature != null && 'metric' in data.weather.temperature) {\n        if (typeof data.weather.temperature.metric === 'number') {\n          return data.weather.temperature.metric;\n        }\n      }\n    }\n  }\n\n  throw TypeError('No valid temperature');\n}"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>Thankfully, this problem has been encountered by many developers and there are a <a href=\"https://typeschema.com/#coverage\">multitude of parsing libraries</a> that bring more ergonomic APIs for these operations. In order to integrate with the TS compiler, they generally expose custom schemas that describe the expected shape of the data, which the unknown objects can then be validated against. Unlike TS, their work is done at runtime, on the user’s device, so the size of the library and its performance must be taken into consideration. We therefore picked <a href=\"https://valibot.dev/\">Valibot</a>, which has a similar API to the popular <a href=\"https://zod.dev/\">Zod</a> library with a typically much smaller footprint. Comparing <a href=\"https://www.typescriptlang.org/play/?module=200#code/JYWwDg9gTgLgBAbzmAhlAzgUwDRwgIwCtMBjGXAOwFcR9Mo4BfOAMyghDgHIA3FAG2D4IMLgG4AUBJIQK6eOhIALTCBRwAvHiKkYACgQS4cAO6YUMFVABc24mQNHjcGKrD0LVKJlsF7+w2dnEEwYKGASW2paej0ASmwnY0YEpxTElMkJFHQATwoSVioCmGBZOABzUIAVNw8YL0x42wAFdhBgLAAeaLooAD5EJxk5eG90SDlMTTgUExRgeBZQ5T0uJRgYMHRrAHpdlDBgADoKTAAPGCqKY4qqNAATYBQKQ+3jmWOqAGtdswsrMdCOhZFw4sNZPI4A8LOotKgME1FCo1Lg5gsxpgJpDMECQRR4nFJMZ9i4VHBqgBlOAycDAfj0OCdOBKN65WYkEhY9DACgVMnMvy6Jykl4PMnTBE8vlwQT4KBodmYOSNdBkixM+AoMj3fj8dmdJzeBpQCjQ2HHf6WejHVzgeqNY4hMIRSSMKRSHgQYDiqowWr2hUmppxW0qAl6O3uIONOKaQYjEEM478CAVPQAAwAkvBmQASBBRh3eRgABoAwhm4kSpEA\">the declarative schema</a> below with the imperative checks above shows a stark improvement in readability, and this distinction increases with the complexity of the data model.</p>",
          "elementId": "8a20f46c-2cd0-41d7-9e9d-b2bfdbe3f2b0"
        },
        {
          "_type": "model.dotcomrendering.pageElements.CodeBlockElement",
          "isMandatory": false,
          "language": "yaml",
          "elementId": "ed0b0093-100c-4eac-bb39-221f0c3ff524",
          "html": "import { parse, object, number } from 'valibot';\n\nconst schema = object({\n  weather: object({\n\ttemperature: object({\n  \tmetric: number(),\n\t}),\n  }),\n});\n\nasync function getTemperature(): Promise<number> {\n  const response = await fetch('https://api.nextgen.guardianapps.co.uk/weather.json')\n  const data = parse(schema, await response.json());\n  // the TS compiler is happy accessing this object\n  // and the parsing library ensures that it actually is\n  return data.weather.temperature.metric;\n}\n"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p><br>\n  We’ve used this approach for our comments, which has enabled us to make changes with confidence, as we are now guaranteed that the data model will actually have the shape the TS compiler expects. This is especially helpful as the team implementing the web interface is distinct from the team <a href=\"https://discussion.guardianapis.com/discussion-api/\">providing the JSON API</a>, which could evolve its data model over time. Now, a breaking change will be caught at the parsing step and dealt with there.</p>",
          "elementId": "2a6e27f2-2b06-425a-bd01-7dd17bb8e59f"
        },
        {
          "_type": "model.dotcomrendering.pageElements.SubheadingBlockElement",
          "html": "<h2><strong>Failing gracefully</strong></h2>",
          "elementId": "8d98c458-629a-4522-8c1c-00f46cb65f8c"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>When the data does not match the schema, the ‘parse’ function will throw an error. While this ensures that no further errors will be thrown, it still stops code execution and may break other interactions on the website. In order to prevent exceptions and handle this case, we can treat errors as values by using the ‘safeParse’ helpers, which return a <a href=\"https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#unions\">tagged union</a> that allows code to check for success or failure. To prevent relying too much on a specific library’s implementation, we wrap this in <a href=\"https://github.com/guardian/dotcom-rendering/blob/acb9d15ec6af316bea621db69a6309afe4753d4b/dotcom-rendering/src/lib/result.ts\">our custom ‘Result’ type</a>, so this pattern becomes more familiar to developers as it can be used outside of the specific cases of parsing that could fail.</p>",
          "elementId": "e9f50790-979b-415e-8184-57c27e3751e3"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p>When making a network request to a REST API, there are several other types of errors that could occur: dropped or timed out network requests, a backend server error or an invalid JSON string. By using a consistent pattern for dealing with failures, we can display the most adequate messaging to our users. For example, we could offer to retry the operation, or give a plain language explanation of why the error occurred.</p>",
          "elementId": "e19e3480-fbe7-4645-97cc-4f65a95b85fd"
        },
        {
          "_type": "model.dotcomrendering.pageElements.TextBlockElement",
          "html": "<p><br></p>",
          "elementId": "5c81f4d0-b92f-43bb-9b99-bee35df0e14b"
        }
      ],
      "attributes": {
        "pinned": false,
        "keyEvent": false,
        "summary": false
      },
      "blockCreatedOn": 1722009958000,
      "blockCreatedOnDisplay": "17.05 BST",
      "blockLastUpdated": 1722242780000,
      "blockLastUpdatedDisplay": "09.46 BST",
      "blockFirstPublished": 1722242780000,
      "blockFirstPublishedDisplay": "09.46 BST",
      "blockFirstPublishedDisplayNoTimezone": "09.46",
      "contributors": [],
      "primaryDateLine": "Fri 26 Jul 2024 17.05 BST",
      "secondaryDateLine": "Last modified on Mon 29 Jul 2024 13.17 BST"
    }
  ],
  "author": {
    "byline": "Max Duval"
  },
  "byline": "Max Duval",
  "webPublicationDate": "2024-07-26T16:05:58.000Z",
  "webPublicationDateDeprecated": "2024-07-26T16:05:58.000Z",
  "webPublicationDateDisplay": "Fri 26 Jul 2024 17.05 BST",
  "webPublicationSecondaryDateDisplay": "Last modified on Mon 29 Jul 2024 13.17 BST",
  "editionLongForm": "UK edition",
  "editionId": "UK",
  "pageId": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
  "canonicalUrl": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
  "format": {
    "design": "ArticleDesign",
    "theme": "NewsPillar",
    "display": "StandardDisplay"
  },
  "designType": "Article",
  "tags": [
    {
      "id": "info/series/engineering-blog",
      "type": "Series",
      "title": "Engineering blog"
    },
    {
      "id": "type/article",
      "type": "Type",
      "title": "Article"
    }
  ],
  "pillar": "news",
  "isLegacyInteractive": false,
  "isImmersive": false,
  "sectionLabel": "",
  "sectionUrl": "",
  "sectionName": "info",
  "subMetaSectionLinks": [
    {
      "url": "/info/series/engineering-blog",
      "title": "Engineering blog"
    }
  ],
  "subMetaKeywordLinks": [],
  "shouldHideAds": false,
  "isAdFreeUser": false,
  "webURL": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
  "linkedData": [
    {
      "@type": "NewsArticle",
      "@context": "https://schema.org",
      "@id": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
      "publisher": {
        "@type": "Organization",
        "@context": "https://schema.org",
        "@id": "https://www.theguardian.com#publisher",
        "name": "The Guardian",
        "url": "https://www.theguardian.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://uploads.guim.co.uk/2018/01/31/TheGuardian_AMP.png",
          "width": 190,
          "height": 60
        },
        "sameAs": [
          "https://www.facebook.com/theguardian",
          "https://twitter.com/guardian",
          "https://www.youtube.com/user/TheGuardian"
        ]
      },
      "isAccessibleForFree": true,
      "isPartOf": {
        "@type": [
          "CreativeWork",
          "Product"
        ],
        "name": "The Guardian",
        "productID": "theguardian.com:basic"
      },
      "image": [
        "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=54dc1a3a440093b5b6f6faa0d0468d88",
        "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=420a8890c0904872817393a9c58cd3b5",
        "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&height=900&quality=85&auto=format&fit=crop&s=68cc4523ab6cc1d525e4fd5f7f5e53b2",
        "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&quality=85&auto=format&fit=max&s=9fd4ee17be10b6657353d001d7f7faac"
      ],
      "author": [
        {
          "@type": "Person",
          "name": "Guardian staff reporter"
        }
      ],
      "datePublished": "2024-07-26T16:05:58.000Z",
      "headline": "Parsing: the merit of strictly typed JSON",
      "dateModified": "2024-07-29T12:17:31.000Z",
      "mainEntityOfPage": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
    },
    {
      "@type": "WebPage",
      "@context": "https://schema.org",
      "@id": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
      "potentialAction": {
        "@type": "ViewAction",
        "target": "android-app://com.guardian/https/www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
      }
    }
  ],
  "openGraphData": {
    "og:url": "https://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
    "article:author": "Max Duval",
    "og:image:width": "1200",
    "og:image": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=54dc1a3a440093b5b6f6faa0d0468d88",
    "al:ios:url": "gnmguardian://info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json?contenttype=Article&source=applinks",
    "article:publisher": "https://www.facebook.com/theguardian",
    "og:title": "Parsing: the merit of strictly typed JSON",
    "fb:app_id": "180444840287",
    "article:modified_time": "2024-07-29T12:17:31.000Z",
    "og:image:height": "720",
    "og:description": "Dealing with content that keeps changing can lead to bugs on users’ devices that are hard to reproduce. By precisely describing the shape of the content using types and ensuring it matches, exceptions can be avoided and users shown helpful messages when errors occur. This post will illustrate how this can be achieved with standard web technologies.",
    "og:type": "article",
    "al:ios:app_store_id": "409128287",
    "article:section": "Info",
    "article:published_time": "2024-07-26T16:05:58.000Z",
    "article:tag": "",
    "al:ios:app_name": "The Guardian",
    "og:site_name": "the Guardian"
  },
  "twitterData": {
    "twitter:app:id:iphone": "409128287",
    "twitter:app:name:googleplay": "The Guardian",
    "twitter:app:name:ipad": "The Guardian",
    "twitter:card": "summary_large_image",
    "twitter:app:name:iphone": "The Guardian",
    "twitter:app:id:ipad": "409128287",
    "twitter:app:id:googleplay": "com.guardian",
    "twitter:app:url:googleplay": "guardian://www.theguardian.com/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
    "twitter:app:url:iphone": "gnmguardian://info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json?contenttype=Article&source=twitter",
    "twitter:image": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&s=8caf4185be26e5d7edf0029d73c31ab2",
    "twitter:site": "@guardian",
    "twitter:app:url:ipad": "gnmguardian://info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json?contenttype=Article&source=twitter"
  },
  "config": {
    "switches": {
      "lightbox": true,
      "abPrebidKeywords": true,
      "personaliseSignInGateAfterCheckout": true,
      "abSignInGateMainVariant": true,
      "prebidAppnexusUkRow": true,
      "prebidMagnite": true,
      "commercialMetrics": true,
      "prebidTrustx": true,
      "scAdFreeBanner": false,
      "adaptiveSite": true,
      "prebidPermutiveAudience": true,
      "compareVariantDecision": false,
      "enableSentryReporting": true,
      "lazyLoadContainers": true,
      "ampArticleSwitch": false,
      "remarketing": true,
      "articleEndSlot": true,
      "keyEventsCarousel": true,
      "registerWithPhone": false,
      "darkModeWeb": true,
      "targeting": true,
      "remoteHeader": true,
      "slotBodyEnd": true,
      "ampPrebidOzone": false,
      "extendedMostPopularFronts": true,
      "emailInlineInFooter": true,
      "showNewPrivacyWordingOnEmailSignupEmbeds": true,
      "prebidAnalytics": true,
      "extendedMostPopular": true,
      "ampContentAbTesting": false,
      "prebidCriteo": true,
      "okta": true,
      "imrWorldwide": true,
      "acast": true,
      "twitterUwt": true,
      "abAuxiaSignInGate": false,
      "abDeferPermutiveLoad": true,
      "prebidAppnexusInvcode": true,
      "ampPrebidPubmatic": false,
      "a9HeaderBidding": true,
      "prebidAppnexus": true,
      "enableDiscussionSwitch": true,
      "prebidXaxis": true,
      "stickyVideos": true,
      "interactiveFullHeaderSwitch": true,
      "discussionAllPageSize": true,
      "prebidUserSync": true,
      "audioOnwardJourneySwitch": true,
      "abMovePermutiveSegmentation": false,
      "brazeTaylorReport": false,
      "externalVideoEmbeds": true,
      "abTheTradeDesk": true,
      "callouts": true,
      "sentinelLogger": true,
      "geoMostPopular": true,
      "weAreHiring": false,
      "relatedContent": true,
      "thirdPartyEmbedTracking": true,
      "prebidOzone": true,
      "ampLiveblogSwitch": false,
      "ampAmazon": false,
      "prebidAdYouLike": true,
      "mostViewedFronts": true,
      "optOutAdvertising": true,
      "abSignInGateMainControl": true,
      "googleSearch": true,
      "abOptOutFrequencyCap": true,
      "brazeSwitch": true,
      "prebidKargo": true,
      "consentManagement": true,
      "idProfileNavigation": true,
      "confiantAdVerification": true,
      "discussionAllowAnonymousRecommendsSwitch": false,
      "dcrCrosswords": true,
      "absoluteServerTimes": false,
      "permutive": true,
      "comscore": true,
      "ampPrebidCriteo": false,
      "prebidTheTradeDesk": true,
      "loopVideoTest": false,
      "newsletterOnwards": false,
      "youtubeIma": true,
      "webFonts": true,
      "liveBlogTopSponsorship": true,
      "abAdBlockAsk": false,
      "ophan": true,
      "crosswordSvgThumbnails": true,
      "prebidTriplelift": true,
      "prebidPubmatic": true,
      "serverShareCounts": false,
      "autoRefresh": true,
      "enhanceTweets": true,
      "prebidIndexExchange": true,
      "prebidOpenx": true,
      "prebidHeaderBidding": true,
      "idCookieRefresh": true,
      "discussionPageSize": true,
      "smartAppBanner": false,
      "historyTags": true,
      "brazeContentCards": true,
      "remoteBanner": true,
      "emailSignupRecaptcha": true,
      "prebidSmart": true,
      "shouldLoadGoogletag": true,
      "inizio": true,
      "europeBetaFront": true
    },
    "abTests": {},
    "googletagUrl": "//securepubads.g.doubleclick.net/tag/js/gpt.js",
    "stage": "PROD",
    "frontendAssetsFullURL": "https://assets.guim.co.uk/",
    "ampIframeUrl": "https://assets.guim.co.uk/data/vendor/2533d5cb94302889e6a8f1b24b5329e7/amp-iframe.html",
    "tones": "",
    "facebookIaAdUnitRoot": "facebook-instant-articles",
    "avatarApiUrl": "https://avatar.theguardian.com",
    "isSplash": false,
    "isColumn": false,
    "membershipUrl": "https://membership.theguardian.com",
    "headline": "Parsing: the merit of strictly typed JSON",
    "isImmersive": false,
    "author": "",
    "ipsosTag": "guardian",
    "isProd": true,
    "series": "Engineering blog",
    "toneIds": "",
    "membershipAccess": "",
    "allowUserGeneratedContent": false,
    "commissioningDesks": "",
    "webPublicationDate": 1722009958000,
    "forecastsapiurl": "/weatherapi/forecast",
    "supportUrl": "https://support.theguardian.com",
    "isNumberedList": false,
    "commercialBundleUrl": "https://assets.guim.co.uk/commercial/47e59a6f2531251d895a/graun.standalone.commercial.js",
    "idOAuthUrl": "https://oauth.theguardian.com",
    "webTitle": "Parsing: the merit of strictly typed JSON",
    "isPhotoEssay": false,
    "idWebAppUrl": "https://oauth.theguardian.com",
    "a9PublisherId": "3722",
    "isFront": false,
    "inBodyInternalLinkCount": 1,
    "googleSearchUrl": "//www.google.co.uk/cse/cse.js",
    "inBodyExternalLinkCount": 20,
    "showRelatedContent": true,
    "lightboxImages": {
      "id": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
      "headline": "Parsing: the merit of strictly typed JSON",
      "shouldHideAdverts": false,
      "standfirst": "<p>Dealing with content that keeps changing can lead to bugs on users’ devices that are hard to reproduce. By precisely describing the shape of the content using types and ensuring it matches, exceptions can be avoided and users shown helpful messages when errors occur. This post will illustrate how this can be achieved with standard web technologies.</p>",
      "images": [
        {
          "caption": "<em>Through the ages… whether an interstellar battle station’s exhaust vent, a Greek warrior’s heel or a static type analysis tool, the tiniest flaw can lead to catastrophic failures.</em>",
          "credit": "Illustration: Max Duval",
          "displayCredit": true,
          "src": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=700&quality=85&auto=format&fit=max&s=cfc4eba9cdb693fd0333d190cad9fa1b",
          "srcsets": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1920&quality=85&auto=format&fit=max&s=7cdebdf2774ba74945bdc030b39a9139 1920w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1225&quality=85&auto=format&fit=max&s=2d3591918aee9c66b4e78e68fcb6748c 1225w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=1065&quality=85&auto=format&fit=max&s=d90c2c1d86ee43b3204e3dfb4700b028 1065w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=965&quality=85&auto=format&fit=max&s=b4d56869130756bd8618bf5ec03f6f4c 965w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=725&quality=85&auto=format&fit=max&s=f70173de517d993570857b605fbd5df7 725w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=645&quality=85&auto=format&fit=max&s=85b857ff5849788194b5bd6a145d3a62 645w, https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/master/7500.jpg?width=465&quality=85&auto=format&fit=max&s=c08f55b05ca95ff46c1adf8c7dde5246 465w",
          "sizes": "(min-width: 1300px) 1920px, (min-width: 1140px) 1225px, (min-width: 980px) 1065px, (min-width: 740px) 965px, (min-width: 660px) 725px, (min-width: 480px) 645px, 465px",
          "ratio": 1.6666666666666667,
          "role": "None",
          "parentContentId": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
          "id": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        }
      ]
    },
    "googleSearchId": "007466294097402385199:m2ealvuxh1i",
    "shouldHideReaderRevenue": false,
    "idUrl": "https://profile.theguardian.com",
    "hasSurveyAd": false,
    "omnitureAmpAccount": "guardiangu-thirdpartyapps",
    "dfpAdUnitRoot": "theguardian.com",
    "host": "https://www.theguardian.com",
    "blogIds": "",
    "sectionName": "Info",
    "hasMultipleVideosInPage": false,
    "hasShowcaseMainElement": false,
    "googleRecaptchaSiteKey": "6LdzlmsdAAAAALFH63cBVagSFPuuHXQ9OfpIDdMc",
    "fbAppId": "180444840287",
    "isContent": true,
    "shortUrlId": "/p/xv5gzj",
    "dfpAccountId": "59666047",
    "plistaPublicApiKey": "462925f4f131001fd974bebe",
    "wordCount": 1132,
    "hasLiveBlogTopAd": false,
    "dcrSentryDsn": "https://1937ab71c8804b2b8438178dfdd6468f@sentry.io/1377847",
    "cardStyle": "news",
    "adUnit": "/59666047/theguardian.com/info/article/ng",
    "discussionApiUrl": "https://discussion.theguardian.com/discussion-api",
    "isSensitive": false,
    "ophanEmbedJsUrl": "//j.ophan.co.uk/ophan.embed",
    "edition": "UK",
    "brazeApiKey": "7f28c639-8bda-48ff-a3f6-24345abfc07c",
    "blogs": "",
    "discussionApiClientHeader": "nextgen",
    "section": "info",
    "userAttributesApiUrl": "https://members-data-api.theguardian.com/user-attributes",
    "videoDuration": 0,
    "dfpHost": "pubads.g.doubleclick.net",
    "weatherapiurl": "/weatherapi/city",
    "sentryPublicApiKey": "344003a8d11c41d8800fbad8383fdc50",
    "shortUrl": "https://www.theguardian.com/p/xv5gzj",
    "thumbnail": "https://i.guim.co.uk/img/media/4adba267ca620af5d01c92be270b7dd8c60d05a0/0_0_7500_4500/500.jpg?quality=85&auto=format&fit=max&s=7431fc7f17894d849a7c3e7bcd888c47",
    "pillar": "News",
    "pageId": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
    "references": [],
    "beaconUrl": "//phar.gu-web.net",
    "commentable": false,
    "discussionD2Uid": "zHoBy6HNKsk",
    "ophanJsUrl": "//j.ophan.co.uk/ophan.ng",
    "contributorBio": "",
    "keywordIds": "",
    "contentType": "Article",
    "isDev": false,
    "isHosted": false,
    "isAdFree": false,
    "stripePublicToken": "pk_live_2O6zPMHXNs2AGea4bAmq5R7Z",
    "omnitureAccount": "guardiangu-network",
    "locationapiurl": "/weatherapi/locations?query=",
    "authorIds": "",
    "isPaidContent": false,
    "hasYouTubeAtom": false,
    "externalEmbedHost": "https://embed.theguardian.com",
    "thirdPartyAppsAccount": "guardiangu-thirdpartyapps",
    "ajaxUrl": "https://api.nextgen.guardianapps.co.uk",
    "byline": "Max Duval",
    "keywords": "",
    "contentId": "info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
    "nonKeywordTagIds": "info/series/engineering-blog,type/article",
    "mobileAppsAdUnitRoot": "beta-guardian-app",
    "hasPageSkin": false,
    "requiresMembershipAccess": false,
    "seriesTags": "Engineering blog",
    "revisionNumber": "DEV",
    "seriesId": "info/series/engineering-blog",
    "optimizeEpicUrl": "https://support.theguardian.com/epic/control/index.html",
    "assetsPath": "https://assets.guim.co.uk/",
    "mmaUrl": "https://manage.theguardian.com",
    "isLive": false,
    "richLink": "",
    "campaigns": [],
    "isLiveBlog": false,
    "pageCode": "14459653",
    "avatarImagesUrl": "https://avatar.guim.co.uk",
    "publication": "theguardian.com",
    "sentryHost": "app.getsentry.com/35463",
    "buildNumber": "DEV",
    "userBenefitsApiUrl": "https://user-benefits.guardianapis.com/benefits/me",
    "sharedAdTargeting": {
      "se": [
        "engineering-blog"
      ],
      "ct": "article",
      "url": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json",
      "su": [
        "0"
      ],
      "edition": "uk",
      "p": "ng",
      "sh": "https://www.theguardian.com/p/xv5gzj"
    },
    "onwardWebSocket": "ws://api.nextgen.guardianapps.co.uk/recently-published",
    "productionOffice": "Uk",
    "shouldHideAdverts": false,
    "idApiUrl": "https://idapi.theguardian.com",
    "pbIndexSites": [
      {
        "bp": "D",
        "id": 208247
      },
      {
        "bp": "M",
        "id": 213519
      },
      {
        "bp": "T",
        "id": 215454
      }
    ],
    "googletagJsUrl": "//securepubads.g.doubleclick.net/tag/js/gpt.js",
    "calloutsUrl": "https://callouts.guardianapis.com/formstack-campaign/submit",
    "isPreview": false
  },
  "guardianBaseURL": "https://www.theguardian.com",
  "contentType": "Article",
  "hasRelated": true,
  "hasStoryPackage": false,
  "beaconURL": "//phar.gu-web.net",
  "isCommentable": false,
  "commercialProperties": {
    "US": {
      "adTargeting": [
        {
          "name": "url",
          "value": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        },
        {
          "name": "su",
          "value": [
            "0"
          ]
        },
        {
          "name": "edition",
          "value": "us"
        },
        {
          "name": "ct",
          "value": "article"
        },
        {
          "name": "sh",
          "value": "https://www.theguardian.com/p/xv5gzj"
        },
        {
          "name": "se",
          "value": [
            "engineering-blog"
          ]
        },
        {
          "name": "p",
          "value": "ng"
        }
      ]
    },
    "AU": {
      "adTargeting": [
        {
          "name": "url",
          "value": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        },
        {
          "name": "su",
          "value": [
            "0"
          ]
        },
        {
          "name": "edition",
          "value": "au"
        },
        {
          "name": "ct",
          "value": "article"
        },
        {
          "name": "sh",
          "value": "https://www.theguardian.com/p/xv5gzj"
        },
        {
          "name": "se",
          "value": [
            "engineering-blog"
          ]
        },
        {
          "name": "p",
          "value": "ng"
        }
      ]
    },
    "UK": {
      "adTargeting": [
        {
          "name": "url",
          "value": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        },
        {
          "name": "su",
          "value": [
            "0"
          ]
        },
        {
          "name": "edition",
          "value": "uk"
        },
        {
          "name": "ct",
          "value": "article"
        },
        {
          "name": "sh",
          "value": "https://www.theguardian.com/p/xv5gzj"
        },
        {
          "name": "se",
          "value": [
            "engineering-blog"
          ]
        },
        {
          "name": "p",
          "value": "ng"
        }
      ]
    },
    "INT": {
      "adTargeting": [
        {
          "name": "url",
          "value": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        },
        {
          "name": "su",
          "value": [
            "0"
          ]
        },
        {
          "name": "ct",
          "value": "article"
        },
        {
          "name": "sh",
          "value": "https://www.theguardian.com/p/xv5gzj"
        },
        {
          "name": "edition",
          "value": "int"
        },
        {
          "name": "se",
          "value": [
            "engineering-blog"
          ]
        },
        {
          "name": "p",
          "value": "ng"
        }
      ]
    },
    "EUR": {
      "adTargeting": [
        {
          "name": "url",
          "value": "/info/article/2024/jul/26/parsing-the-merit-of-strictly-typed-json"
        },
        {
          "name": "su",
          "value": [
            "0"
          ]
        },
        {
          "name": "ct",
          "value": "article"
        },
        {
          "name": "sh",
          "value": "https://www.theguardian.com/p/xv5gzj"
        },
        {
          "name": "edition",
          "value": "eur"
        },
        {
          "name": "se",
          "value": [
            "engineering-blog"
          ]
        },
        {
          "name": "p",
          "value": "ng"
        }
      ]
    }
  },
  "pageType": {
    "hasShowcaseMainElement": false,
    "isFront": false,
    "isLiveblog": false,
    "isMinuteArticle": false,
    "isPaidContent": false,
    "isPreview": false,
    "isSensitive": false
  },
  "trailText": "Dealing with content that keeps changing can lead to bugs on users’ devices that are hard to reproduce. By precisely describing the shape of the content using types and ensuring it matches, exceptions can be avoided and users shown helpful messages when errors occur. This post will illustrate how this can be achieved with standard web technologies.",
  "nav": {
    "currentUrl": "/info",
    "pillars": [
      {
        "title": "News",
        "url": "/",
        "longTitle": "Headlines",
        "iconName": "home",
        "children": [
          {
            "title": "UK",
            "url": "/uk-news",
            "longTitle": "UK news",
            "children": [
              {
                "title": "UK politics",
                "url": "/politics"
              },
              {
                "title": "Education",
                "url": "/education",
                "children": [
                  {
                    "title": "Schools",
                    "url": "/education/schools"
                  },
                  {
                    "title": "Teachers",
                    "url": "/teacher-network"
                  },
                  {
                    "title": "Universities",
                    "url": "/education/universities"
                  },
                  {
                    "title": "Students",
                    "url": "/education/students"
                  }
                ]
              },
              {
                "title": "Media",
                "url": "/media"
              },
              {
                "title": "Society",
                "url": "/society"
              },
              {
                "title": "Law",
                "url": "/law"
              },
              {
                "title": "Scotland",
                "url": "/uk/scotland"
              },
              {
                "title": "Wales",
                "url": "/uk/wales"
              },
              {
                "title": "Northern Ireland",
                "url": "/uk/northernireland"
              }
            ]
          },
          {
            "title": "US politics",
            "url": "/us-news/us-politics"
          },
          {
            "title": "World",
            "url": "/world",
            "longTitle": "World news",
            "children": [
              {
                "title": "Europe",
                "url": "/world/europe-news"
              },
              {
                "title": "US",
                "url": "/us-news",
                "longTitle": "US news"
              },
              {
                "title": "Americas",
                "url": "/world/americas"
              },
              {
                "title": "Asia",
                "url": "/world/asia"
              },
              {
                "title": "Australia",
                "url": "/australia-news",
                "longTitle": "Australia news"
              },
              {
                "title": "Middle East",
                "url": "/world/middleeast"
              },
              {
                "title": "Africa",
                "url": "/world/africa"
              },
              {
                "title": "Inequality",
                "url": "/inequality"
              },
              {
                "title": "Global development",
                "url": "/global-development"
              }
            ]
          },
          {
            "title": "Climate crisis",
            "url": "/environment/climate-crisis"
          },
          {
            "title": "Middle East",
            "url": "/world/middleeast"
          },
          {
            "title": "Ukraine",
            "url": "/world/ukraine"
          },
          {
            "title": "Football",
            "url": "/football",
            "children": [
              {
                "title": "Live scores",
                "url": "/football/live",
                "longTitle": "football/live"
              },
              {
                "title": "Tables",
                "url": "/football/tables",
                "longTitle": "football/tables"
              },
              {
                "title": "Fixtures",
                "url": "/football/fixtures",
                "longTitle": "football/fixtures"
              },
              {
                "title": "Results",
                "url": "/football/results",
                "longTitle": "football/results"
              },
              {
                "title": "Competitions",
                "url": "/football/competitions",
                "longTitle": "football/competitions"
              },
              {
                "title": "Clubs",
                "url": "/football/teams",
                "longTitle": "football/teams"
              }
            ]
          },
          {
            "title": "Newsletters",
            "url": "/email-newsletters"
          },
          {
            "title": "Business",
            "url": "/business",
            "children": [
              {
                "title": "Economics",
                "url": "/business/economics"
              },
              {
                "title": "Banking",
                "url": "/business/banking"
              },
              {
                "title": "Money",
                "url": "/money",
                "children": [
                  {
                    "title": "Property",
                    "url": "/money/property"
                  },
                  {
                    "title": "Pensions",
                    "url": "/money/pensions"
                  },
                  {
                    "title": "Savings",
                    "url": "/money/savings"
                  },
                  {
                    "title": "Borrowing",
                    "url": "/money/debt"
                  },
                  {
                    "title": "Careers",
                    "url": "/money/work-and-careers"
                  }
                ]
              },
              {
                "title": "Markets",
                "url": "/business/stock-markets"
              },
              {
                "title": "Project Syndicate",
                "url": "/business/series/project-syndicate-economists"
              },
              {
                "title": "B2B",
                "url": "/business-to-business"
              },
              {
                "title": "Retail",
                "url": "/business/retail"
              }
            ]
          },
          {
            "title": "Environment",
            "url": "/environment",
            "children": [
              {
                "title": "Climate crisis",
                "url": "/environment/climate-crisis"
              },
              {
                "title": "Wildlife",
                "url": "/environment/wildlife"
              },
              {
                "title": "Energy",
                "url": "/environment/energy"
              },
              {
                "title": "Pollution",
                "url": "/environment/pollution"
              }
            ]
          },
          {
            "title": "UK politics",
            "url": "/politics"
          },
          {
            "title": "Society",
            "url": "/society"
          },
          {
            "title": "Science",
            "url": "/science"
          },
          {
            "title": "Tech",
            "url": "/technology"
          },
          {
            "title": "Global development",
            "url": "/global-development"
          },
          {
            "title": "Obituaries",
            "url": "/obituaries"
          }
        ]
      },
      {
        "title": "Opinion",
        "url": "/commentisfree",
        "longTitle": "Opinion home",
        "iconName": "home",
        "children": [
          {
            "title": "The Guardian view",
            "url": "/profile/editorial"
          },
          {
            "title": "Columnists",
            "url": "/index/contributors"
          },
          {
            "title": "Cartoons",
            "url": "/tone/cartoons"
          },
          {
            "title": "Opinion videos",
            "url": "/type/video+tone/comment"
          },
          {
            "title": "Letters",
            "url": "/tone/letters"
          }
        ]
      },
      {
        "title": "Sport",
        "url": "/sport",
        "longTitle": "Sport home",
        "iconName": "home",
        "children": [
          {
            "title": "Football",
            "url": "/football",
            "children": [
              {
                "title": "Live scores",
                "url": "/football/live",
                "longTitle": "football/live"
              },
              {
                "title": "Tables",
                "url": "/football/tables",
                "longTitle": "football/tables"
              },
              {
                "title": "Fixtures",
                "url": "/football/fixtures",
                "longTitle": "football/fixtures"
              },
              {
                "title": "Results",
                "url": "/football/results",
                "longTitle": "football/results"
              },
              {
                "title": "Competitions",
                "url": "/football/competitions",
                "longTitle": "football/competitions"
              },
              {
                "title": "Clubs",
                "url": "/football/teams",
                "longTitle": "football/teams"
              }
            ]
          },
          {
            "title": "Cricket",
            "url": "/sport/cricket"
          },
          {
            "title": "Rugby union",
            "url": "/sport/rugby-union"
          },
          {
            "title": "Tennis",
            "url": "/sport/tennis"
          },
          {
            "title": "Cycling",
            "url": "/sport/cycling"
          },
          {
            "title": "F1",
            "url": "/sport/formulaone"
          },
          {
            "title": "Golf",
            "url": "/sport/golf"
          },
          {
            "title": "Boxing",
            "url": "/sport/boxing"
          },
          {
            "title": "Rugby league",
            "url": "/sport/rugbyleague"
          },
          {
            "title": "Racing",
            "url": "/sport/horse-racing"
          },
          {
            "title": "US sports",
            "url": "/sport/us-sport"
          }
        ]
      },
      {
        "title": "Culture",
        "url": "/culture",
        "longTitle": "Culture home",
        "iconName": "home",
        "children": [
          {
            "title": "Film",
            "url": "/film"
          },
          {
            "title": "Music",
            "url": "/music"
          },
          {
            "title": "TV & radio",
            "url": "/tv-and-radio"
          },
          {
            "title": "Books",
            "url": "/books"
          },
          {
            "title": "Art & design",
            "url": "/artanddesign"
          },
          {
            "title": "Stage",
            "url": "/stage"
          },
          {
            "title": "Games",
            "url": "/games"
          },
          {
            "title": "Classical",
            "url": "/music/classicalmusicandopera"
          }
        ]
      },
      {
        "title": "Lifestyle",
        "url": "/lifeandstyle",
        "longTitle": "Lifestyle home",
        "iconName": "home",
        "children": [
          {
            "title": "The Filter",
            "url": "/uk/thefilter"
          },
          {
            "title": "Fashion",
            "url": "/fashion"
          },
          {
            "title": "Food",
            "url": "/food"
          },
          {
            "title": "Recipes",
            "url": "/tone/recipes"
          },
          {
            "title": "Travel",
            "url": "/travel",
            "children": [
              {
                "title": "UK",
                "url": "/travel/uk"
              },
              {
                "title": "Europe",
                "url": "/travel/europe"
              },
              {
                "title": "US",
                "url": "/travel/usa"
              }
            ]
          },
          {
            "title": "Health & fitness",
            "url": "/lifeandstyle/health-and-wellbeing"
          },
          {
            "title": "Women",
            "url": "/lifeandstyle/women"
          },
          {
            "title": "Men",
            "url": "/lifeandstyle/men"
          },
          {
            "title": "Love & sex",
            "url": "/lifeandstyle/love-and-sex"
          },
          {
            "title": "Beauty",
            "url": "/fashion/beauty"
          },
          {
            "title": "Home & garden",
            "url": "/lifeandstyle/home-and-garden"
          },
          {
            "title": "Money",
            "url": "/money",
            "children": [
              {
                "title": "Property",
                "url": "/money/property"
              },
              {
                "title": "Pensions",
                "url": "/money/pensions"
              },
              {
                "title": "Savings",
                "url": "/money/savings"
              },
              {
                "title": "Borrowing",
                "url": "/money/debt"
              },
              {
                "title": "Careers",
                "url": "/money/work-and-careers"
              }
            ]
          },
          {
            "title": "Cars",
            "url": "/technology/motoring"
          }
        ]
      }
    ],
    "otherLinks": [
      {
        "title": "The Guardian app",
        "url": "https://app.adjust.com/16xt6hai"
      },
      {
        "title": "Video",
        "url": "/video"
      },
      {
        "title": "Podcasts",
        "url": "/podcasts"
      },
      {
        "title": "Pictures",
        "url": "/inpictures"
      },
      {
        "title": "Newsletters",
        "url": "/email-newsletters"
      },
      {
        "title": "Today's paper",
        "url": "/theguardian",
        "children": [
          {
            "title": "Obituaries",
            "url": "/obituaries"
          },
          {
            "title": "G2",
            "url": "/theguardian/g2"
          },
          {
            "title": "Journal",
            "url": "/theguardian/journal"
          },
          {
            "title": "Saturday",
            "url": "/theguardian/saturday"
          }
        ]
      },
      {
        "title": "Inside the Guardian",
        "url": "https://www.theguardian.com/insidetheguardian"
      },
      {
        "title": "The Observer",
        "url": "/observer",
        "children": [
          {
            "title": "Comment",
            "url": "/theobserver/news/comment"
          },
          {
            "title": "The New Review",
            "url": "/theobserver/new-review"
          },
          {
            "title": "Observer Magazine",
            "url": "/theobserver/magazine"
          },
          {
            "title": "Observer Food Monthly",
            "url": "/theobserver/foodmonthly"
          }
        ]
      },
      {
        "title": "Guardian Weekly",
        "url": "https://www.theguardian.com/weekly?INTCMP=gdnwb_mawns_editorial_gweekly_GW_TopNav_UK"
      },
      {
        "title": "Crosswords",
        "url": "/crosswords",
        "children": [
          {
            "title": "Blog",
            "url": "/crosswords/crossword-blog"
          },
          {
            "title": "Quick",
            "url": "/crosswords/series/quick"
          },
          {
            "title": "Speedy",
            "url": "/crosswords/series/speedy"
          },
          {
            "title": "Quick cryptic",
            "url": "/crosswords/series/quick-cryptic"
          },
          {
            "title": "Everyman",
            "url": "/crosswords/series/everyman"
          },
          {
            "title": "Quiptic",
            "url": "/crosswords/series/quiptic"
          },
          {
            "title": "Cryptic",
            "url": "/crosswords/series/cryptic"
          },
          {
            "title": "Prize",
            "url": "/crosswords/series/prize"
          },
          {
            "title": "Azed",
            "url": "/crosswords/series/azed"
          },
          {
            "title": "Genius",
            "url": "/crosswords/series/genius"
          },
          {
            "title": "Weekend",
            "url": "/crosswords/series/weekend-crossword"
          },
          {
            "title": "Special",
            "url": "/crosswords/series/special"
          }
        ]
      },
      {
        "title": "Wordiply",
        "url": "https://www.wordiply.com"
      },
      {
        "title": "Corrections",
        "url": "/theguardian/series/corrections-and-clarifications"
      }
    ],
    "brandExtensions": [
      {
        "title": "Search jobs",
        "url": "https://jobs.theguardian.com"
      },
      {
        "title": "Hire with Guardian Jobs",
        "url": "https://recruiters.theguardian.com/?utm_source=gdnwb&utm_medium=navbar&utm_campaign=Guardian_Navbar_Recruiters&CMP_TU=trdmkt&CMP_BUNIT=jobs"
      },
      {
        "title": "Holidays",
        "url": "https://holidays.theguardian.com?INTCMP=holidays_uk_web_newheader"
      },
      {
        "title": "Live events",
        "url": "https://www.theguardian.com/guardian-live-events?INTCMP=live_uk_header_dropdown"
      },
      {
        "title": "About Us",
        "url": "/about"
      },
      {
        "title": "Digital Archive",
        "url": "https://theguardian.newspapers.com"
      },
      {
        "title": "Guardian Print Shop",
        "url": "/artanddesign/series/gnm-print-sales"
      },
      {
        "title": "Patrons",
        "url": "https://patrons.theguardian.com/?INTCMP=header_patrons"
      },
      {
        "title": "Guardian Licensing",
        "url": "https://licensing.theguardian.com/"
      }
    ],
    "readerRevenueLinks": {
      "header": {
        "contribute": "https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D",
        "subscribe": "https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D",
        "support": "https://support.theguardian.com?INTCMP=header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support%22%7D",
        "supporter": "https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"
      },
      "footer": {
        "contribute": "https://support.theguardian.com/contribute?INTCMP=footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_contribute%22%7D",
        "subscribe": "https://support.theguardian.com/subscribe?INTCMP=footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_subscribe%22%7D",
        "support": "https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D",
        "supporter": "https://support.theguardian.com/subscribe?INTCMP=footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_supporter_cta%22%7D"
      },
      "sideMenu": {
        "contribute": "https://support.theguardian.com/contribute?INTCMP=side_menu_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_contribute%22%7D",
        "subscribe": "https://support.theguardian.com/subscribe?INTCMP=side_menu_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_subscribe%22%7D",
        "support": "https://support.theguardian.com?INTCMP=side_menu_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support%22%7D",
        "supporter": "https://support.theguardian.com/subscribe?INTCMP=mobilenav_print_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22mobilenav_print_cta%22%7D"
      },
      "ampHeader": {
        "contribute": "https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D",
        "subscribe": "https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D",
        "support": "https://support.theguardian.com?INTCMP=amp_header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22amp_header_support%22%7D",
        "supporter": "https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"
      },
      "ampFooter": {
        "contribute": "https://support.theguardian.com/contribute?INTCMP=amp_footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_contribute%22%7D",
        "subscribe": "https://support.theguardian.com/subscribe?INTCMP=amp_footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_subscribe%22%7D",
        "support": "https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D",
        "supporter": "https://support.theguardian.com/subscribe?INTCMP=amp_footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_supporter_cta%22%7D"
      }
    }
  },
  "showBottomSocialButtons": true,
  "pageFooter": {
    "footerLinks": [
      [
        {
          "text": "About us",
          "url": "/about",
          "dataLinkName": "uk : footer : about us",
          "extraClasses": ""
        },
        {
          "text": "Help",
          "url": "https://manage.theguardian.com/help-centre",
          "dataLinkName": "uk : footer : tech feedback",
          "extraClasses": "js-tech-feedback-report"
        },
        {
          "text": "Complaints & corrections",
          "url": "/info/complaints-and-corrections",
          "dataLinkName": "complaints",
          "extraClasses": ""
        },
        {
          "text": "SecureDrop",
          "url": "https://www.theguardian.com/securedrop",
          "dataLinkName": "securedrop",
          "extraClasses": ""
        },
        {
          "text": "Work for us",
          "url": "https://workforus.theguardian.com",
          "dataLinkName": "uk : footer : work for us",
          "extraClasses": ""
        },
        {
          "text": "Privacy policy",
          "url": "/info/privacy",
          "dataLinkName": "privacy",
          "extraClasses": ""
        },
        {
          "text": "Cookie policy",
          "url": "/info/cookies",
          "dataLinkName": "cookie",
          "extraClasses": ""
        },
        {
          "text": "Terms & conditions",
          "url": "/help/terms-of-service",
          "dataLinkName": "terms",
          "extraClasses": ""
        },
        {
          "text": "Contact us",
          "url": "/help/contact-us",
          "dataLinkName": "uk : footer : contact us",
          "extraClasses": ""
        }
      ],
      [
        {
          "text": "All topics",
          "url": "/index/subjects/a",
          "dataLinkName": "uk : footer : all topics",
          "extraClasses": ""
        },
        {
          "text": "All writers",
          "url": "/index/contributors",
          "dataLinkName": "uk : footer : all contributors",
          "extraClasses": ""
        },
        {
          "text": "Modern Slavery Act",
          "url": "https://uploads.guim.co.uk/2024/09/04/Modern_Slavery_Statement_2024_.pdf",
          "dataLinkName": "uk : footer : modern slavery act statement",
          "extraClasses": ""
        },
        {
          "text": "Tax strategy",
          "url": "https://uploads.guim.co.uk/2024/08/27/TAX_STRATEGY_FOR_THE_YEAR_ENDED_31_MARCH_2025.pdf",
          "dataLinkName": "uk : footer : tax strategy",
          "extraClasses": ""
        },
        {
          "text": "Digital newspaper archive",
          "url": "https://theguardian.newspapers.com",
          "dataLinkName": "digital newspaper archive",
          "extraClasses": ""
        },
        {
          "text": "Facebook",
          "url": "https://www.facebook.com/theguardian",
          "dataLinkName": "uk : footer : facebook",
          "extraClasses": ""
        },
        {
          "text": "YouTube",
          "url": "https://www.youtube.com/user/TheGuardian",
          "dataLinkName": "uk : footer : youtube",
          "extraClasses": ""
        },
        {
          "text": "Instagram",
          "url": "https://www.instagram.com/guardian",
          "dataLinkName": "uk : footer : instagram",
          "extraClasses": ""
        },
        {
          "text": "LinkedIn",
          "url": "https://www.linkedin.com/company/theguardian",
          "dataLinkName": "uk : footer : linkedin",
          "extraClasses": ""
        },
        {
          "text": "Newsletters",
          "url": "/email-newsletters?INTCMP=DOTCOM_FOOTER_NEWSLETTER_UK",
          "dataLinkName": "uk : footer : newsletters",
          "extraClasses": ""
        }
      ],
      [
        {
          "text": "Advertise with us",
          "url": "https://advertising.theguardian.com",
          "dataLinkName": "uk : footer : advertise with us",
          "extraClasses": ""
        },
        {
          "text": "Guardian Labs",
          "url": "/guardian-labs",
          "dataLinkName": "uk : footer : guardian labs",
          "extraClasses": ""
        },
        {
          "text": "Search jobs",
          "url": "https://jobs.theguardian.com",
          "dataLinkName": "uk : footer : jobs",
          "extraClasses": ""
        },
        {
          "text": "Patrons",
          "url": "https://patrons.theguardian.com?INTCMP=footer_patrons",
          "dataLinkName": "uk : footer : patrons",
          "extraClasses": ""
        }
      ]
    ]
  },
  "publication": "theguardian.com",
  "shouldHideReaderRevenue": false,
  "slotMachineFlags": "",
  "contributionsServiceUrl": "https://contributions.guardianapis.com",
  "isSpecialReport": false,
  "showTableOfContents": false,
  "lang": "en",
  "isRightToLeftLang": false
}