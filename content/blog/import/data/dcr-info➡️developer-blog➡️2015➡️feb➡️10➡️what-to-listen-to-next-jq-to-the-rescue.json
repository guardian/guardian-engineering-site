{"version":3,"headline":"What to listen to next? jq to the rescue!","standfirst":"<p>Search the Guardian for five star music reviews directly from your command-line<br></p>","webTitle":"What to listen to next? jq to the rescue!","mainMediaElements":[{"displayCredit":false,"_type":"model.dotcomrendering.pageElements.ImageBlockElement","role":"inline","media":{"allImages":[{"index":0,"fields":{"height":"132","width":"220"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588022581/12036546815_777c14c432_o-220x132.jpeg"},{"index":1,"fields":{"height":"276","width":"460"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588023419/12036546815_777c14c432_o-460x276.jpeg"},{"index":2,"fields":{"height":"324","width":"540"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588023906/12036546815_777c14c432_o-540x324.jpeg"},{"index":3,"fields":{"height":"84","width":"140"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588024846/12036546815_777c14c432_o-140x84.jpeg"},{"index":4,"fields":{"height":"612","width":"1020"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg"},{"index":5,"fields":{"height":"180","width":"300"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588026464/12036546815_777c14c432_o-300x180.jpeg"},{"index":6,"fields":{"height":"228","width":"380"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588026837/12036546815_777c14c432_o-380x228.jpeg"},{"index":7,"fields":{"height":"372","width":"620"},"mediaType":"Image","mimeType":"image/jpeg","url":"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588027369/12036546815_777c14c432_o-620x372.jpeg"}]},"elementId":"c67f673a-eb9c-457a-a223-7ae8939ca00e","imageSources":[{"weighting":"inline","srcSet":[{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=620&quality=85&auto=format&fit=max&s=1045f7607dfdd34f7b7f308871bbcda0","width":620},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=620&quality=45&auto=format&fit=max&dpr=2&s=c66d8fb92f36db9e427dfc48101b3a51","width":1240},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=85&auto=format&fit=max&s=c908588d1c4d817ca61f08b13a2de397","width":700},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=45&auto=format&fit=max&dpr=2&s=e6bbe554c86a83568e2ed2262d432401","width":1400},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=620&quality=85&auto=format&fit=max&s=1045f7607dfdd34f7b7f308871bbcda0","width":620},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=620&quality=45&auto=format&fit=max&dpr=2&s=c66d8fb92f36db9e427dfc48101b3a51","width":1240},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=645&quality=85&auto=format&fit=max&s=114ef282106ef23e5a18af20ebc11148","width":645},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=645&quality=45&auto=format&fit=max&dpr=2&s=8902b69f461edef33f12b877a0e1d880","width":1290},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=465&quality=85&auto=format&fit=max&s=0ea0f11c802f7481917cd088346a1e1e","width":465},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=465&quality=45&auto=format&fit=max&dpr=2&s=682744482247fcc08709dfc5d44e88a8","width":930}]},{"weighting":"thumbnail","srcSet":[]},{"weighting":"supporting","srcSet":[]},{"weighting":"showcase","srcSet":[{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1020&quality=85&auto=format&fit=max&s=43b808c66a6cfa7dcf48ce5b844f5920","width":1020},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1020&quality=45&auto=format&fit=max&dpr=2&s=2c80814f26b5521085bab8087edcc058","width":2040},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=940&quality=85&auto=format&fit=max&s=2ad1f89ea6afec0fe44a4ca50171f8da","width":940},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=940&quality=45&auto=format&fit=max&dpr=2&s=b668334cb62b6fa0aeb3542c1d639ccb","width":1880},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=85&auto=format&fit=max&s=c908588d1c4d817ca61f08b13a2de397","width":700},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=45&auto=format&fit=max&dpr=2&s=e6bbe554c86a83568e2ed2262d432401","width":1400},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=85&auto=format&fit=max&s=c908588d1c4d817ca61f08b13a2de397","width":700},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=45&auto=format&fit=max&dpr=2&s=e6bbe554c86a83568e2ed2262d432401","width":1400},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=660&quality=85&auto=format&fit=max&s=4cbd01614af0432de4c93a6c422dc7b1","width":660},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=660&quality=45&auto=format&fit=max&dpr=2&s=c38587d111dbf2423bdb8a6e72d49e56","width":1320},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=645&quality=85&auto=format&fit=max&s=114ef282106ef23e5a18af20ebc11148","width":645},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=645&quality=45&auto=format&fit=max&dpr=2&s=8902b69f461edef33f12b877a0e1d880","width":1290},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=465&quality=85&auto=format&fit=max&s=0ea0f11c802f7481917cd088346a1e1e","width":465},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=465&quality=45&auto=format&fit=max&dpr=2&s=682744482247fcc08709dfc5d44e88a8","width":930}]},{"weighting":"halfwidth","srcSet":[]},{"weighting":"immersive","srcSet":[{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1900&quality=85&auto=format&fit=max&s=5f1eead23c245071625e38b21c07e4e4","width":1900},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1900&quality=45&auto=format&fit=max&dpr=2&s=397058ad7e4acff61a2bb73b1d29eece","width":3800},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1300&quality=85&auto=format&fit=max&s=d708cdc16b54b9dde0bb79ee8e1e0198","width":1300},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1300&quality=45&auto=format&fit=max&dpr=2&s=1711a92e32920c8db74b1632f4e2acbc","width":2600},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1140&quality=85&auto=format&fit=max&s=ade4662ab80229722239cc616cab06f9","width":1140},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1140&quality=45&auto=format&fit=max&dpr=2&s=db2cba890675548002c2d272e2d38e4a","width":2280},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=980&quality=85&auto=format&fit=max&s=2e6c030e5b984fc0a073b1c6fc0fb1cd","width":980},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=980&quality=45&auto=format&fit=max&dpr=2&s=d52e81e90d0fbcef34468d5e1fcbc23c","width":1960},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=740&quality=85&auto=format&fit=max&s=e483f49e357a8fe4509ad3e9f49f415b","width":740},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=740&quality=45&auto=format&fit=max&dpr=2&s=5fc6e76092b2b6cd9015994812ab6e43","width":1480},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=660&quality=85&auto=format&fit=max&s=4cbd01614af0432de4c93a6c422dc7b1","width":660},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=660&quality=45&auto=format&fit=max&dpr=2&s=c38587d111dbf2423bdb8a6e72d49e56","width":1320},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=480&quality=85&auto=format&fit=max&s=8c7527902a79153d074ebedc9f1c96eb","width":480},{"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=480&quality=45&auto=format&fit=max&dpr=2&s=abf7a063667807774a85d1444a5a5d9c","width":960}]}],"data":{"alt":"Bob Dylan image","caption":"bob dylan- the complete album collection, vol. one <a href=\"https://www.flickr.com/photos/cdrummbks/12036546815/\">Photograph: CHRIS DRUMM/flickr</a>","credit":"Photograph: CHRIS DRUMM/flickr"}}],"main":"<figure class=\"element element-image\" data-media-id=\"6322d67a1d5cc4f7968f8e54a262b1af7b2acfcb\"> <img src=\"http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2015/2/10/1423588023419/12036546815_777c14c432_o-460x276.jpeg\" alt=\"Bob Dylan image\" width=\"460\" height=\"276\" class=\"gu-image\" /> <figcaption> <span class=\"element-image__caption\">bob dylan- the complete album collection, vol. one <a href=\"https://www.flickr.com/photos/cdrummbks/12036546815/\">Photograph: CHRIS DRUMM/flickr</a></span> <span class=\"element-image__credit\">Photograph: CHRIS DRUMM/flickr</span> </figcaption> </figure>","filterKeyEvents":false,"keyEvents":[],"blocks":[{"id":"54d1323ce4b0c3cd649a9e31","elements":[{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Recently I was looking for some new music to listen to and thought I’d check the Guardian to see what had received good reviews. When I went on to the site though I found it a bit hard to narrow down the reviews to ones I was interested in — albums rather than live reviews, which had received at least 4 stars.</p>","elementId":"b4cc437e-5d42-4ad9-a50c-8ab544adacd7"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Naturally I turned to the <a href=\"http://explorer.content.guardianapis.com/\">Content API</a> for help and this also seemed like a good opportunity to learn a tool I’d been interested in for a while: <a href=\"http://stedolan.github.io/jq/\">jq</a>.</p>","elementId":"3bebc005-87f8-40e2-9ac6-9a33e9b41065"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Jq, according to their GitHub site, is “a lightweight and flexible command-line JSON processor ... like <a href=\"http://en.wikipedia.org/wiki/Sed\">sed</a> for JSON”.</p>","elementId":"ceee425a-5c50-4c9f-a72a-d04be8030aa1"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>I think of it as performing the functions that XPath and XSLT do for XML but for JSON (fortunately the syntax is far less verbose than XSLT). There is a fairly decent <a href=\"http://stedolan.github.io/jq/tutorial/\">tutorial</a> on the site, but best of all there is an <a href=\"https://jqplay.org/\">online tool</a> which allows you to try out jq interactively in a browser.</p>","elementId":"2474995c-40cd-4162-ba6e-e601952b4d0a"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>First though we need some JSON to transform, so over to the Content API.</p>","elementId":"c64812e4-0e02-43a5-9960-895a958fe1b7"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>CAPI talk</h2>","elementId":"4dcba5ca-575c-41c3-ae72-895941191e66"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>It is a simple enough task to fetch reviews by adding the tone/reviews tag, and by adding the tone/albumreview tag as well we can exclude live reviews and just return albums (I found that using both tags rather than just tone/albumreview alone gave better results because it filtered out some other non-review type articles).</p>","elementId":"74a5e269-9e9f-4fdd-a3bc-5669129c5dc4"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>By also adding fields=starRating into our query, we can return the star rating given in the review. Then we will limit our query to the last month by adding date parameters. This is about as far as we can go with the Content API since it doesn’t support querying by star rating.</p>","elementId":"5a254246-7f13-49b6-9d53-e5491a024d00"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Our final query string now looks like this:</p>","elementId":"8d38bc56-f5d1-43c3-88b5-4a195e4f1820"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p><a href=\"http://content.guardianapis.com/search?api-key=test&amp;show-fields=starRating&amp;page-size=1&amp;tag=tone/albumreview,tone/reviews&amp;from-date=2015-01-03&amp;to-date=2015-02-03\">http://content.guardianapis.com/search?api-key=test&amp;show-fields=starRating&amp;page-size=1&amp;tag=tone/albumreview,tone/reviews&amp;from-date=2015-01-03&amp;to-date=2015-02-03</a></p>","elementId":"93525546-be01-45e8-9566-cc50e5f7478a"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>...and the response looks like this (trimmed to two results for brevity):</p>","elementId":"4dfdd3bc-86b7-4989-accf-06b92a259801"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Music reviews json","caption":"Music reviews json","elementId":"24a13b3f-ac81-49f4-a42c-205099db50d1","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/83ed33ebad162a4934a1.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>Jq for the music</h2>","elementId":"633f9e59-f669-466d-9f06-7c1067ad972b"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Next we need to take this JSON and do something interesting with it. If you recall, we were trying to find albums which received good reviews — ie. those with a star rating of 4 or above. This is where jq comes in as it allows us to take the JSON returned by the Content API and very quickly and easily filter it based on JSON values.</p>","elementId":"4c47eadb-74fe-4cfc-998f-a82217802fbe"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The general idea will be to issue a <a href=\"http://en.wikipedia.org/wiki/CURL\">curl</a> command to retrieve the JSON and then pipe it to jq to query, transform and analyse it.</p>","elementId":"edd7d2d6-d62f-4863-a4c0-37c0cba320b9"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>As a first step, you can see from the JSON above that there is quite a bit of metadata at the root of the response which we are not really interested in for the purposes of this exercise. Using jq we can quite easily throw all this away and just focus on what we are interested in — the results array.</p>","elementId":"bbdd4b88-e456-404b-923e-e05cbe03ed0e"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Retrieving the results array from the response","caption":"Retrieving the results array from the response","elementId":"f8846ac9-913b-4b4f-bba8-6ce00284e640","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/0562dfe8170ab3ac6e3f.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The output from jq looks like this (again trimmed for brevity):</p>","elementId":"fb6aae8c-d4ea-4c81-815f-7d55bba2ea89"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"The results array","elementId":"5311db74-5dd4-41fe-bbd7-51901a12bb4a","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/a8fa0bccc9280ce777e0.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Let’s have a look in more detail at what is happening here. Along with the JSON from the Content API which is piped into jq, we are also passing a filter ‘.response.results[]’ — this describes a path into our JSON structure. The initial . is the root of the object, then we navigate into the response element and access the elements of the results array using ‘results[]’.</p>","elementId":"875d080b-b7b7-4664-b659-f6836f83ae05"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>This is great because we now have a really flat, clean JSON structure to work with and it is much easier to see what is going on.</p>","elementId":"6854e61a-6aec-449c-92f7-68a043a8c0db"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The next thing to do is to filter the reviews we’ve returned based on their star rating. Unfortunately the Content API returns the star rating as a string — it would be much nicer if it was a number as we could then search for reviews where the rating is greater than 3 rather than where it is “4” or “5”. Fortunately, an addition to our jq filter will allow us to do just this (from now on I will just show the actual filter we pass to jq rather than the full command):</p>","elementId":"f069ee1c-23a0-4f67-bca0-11e5bc716381"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Converting star rating to a number","elementId":"857bf6d7-a7e3-4ca5-bc2a-343cef892887","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/7b0f1c338bbe91c93a95.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>Easy pieces</h2>","elementId":"5f34aa0e-1d9d-4cc2-a74b-e509fb34b7d0"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>There are a few things to notice here: firstly we are combining our original path filter which pulls out the results array with a second filter using the pipe operator ‘|’ in the same way we might combine commands in a bash shell. This allows us to easily build up arbitrarily complicated pipelines out of simple component filters.</p>","elementId":"48dca014-2a15-4ef3-9d2c-526a867d1024"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Also of interest is the second filter we have added, which tells jq to transform our input JSON into a new JSON object. The curly brackets denote the root of the new object, and we are copying the webTitle field over as-is. Then we are creating a starRating field at the top level of the new object (rather than nested inside a fields object) and converting this to a number using the ‘tonumber’ function.</p>","elementId":"29b37ff9-06b3-4509-bf20-22ee01a9eedf"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The output then looks like this (note that starRating is now a number):</p>","elementId":"f9f31653-fe83-4069-867b-32f7bce037a4"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Json with converted star rating","elementId":"a531be7d-c359-46b2-be96-a941b6c64be2","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/29b5bde240a2742e6e4f.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>All that is now left to do is to select those reviews with a star rating of more than three. This is easily achieved by adding a select filter onto our jq input:</p>","elementId":"cc38e00f-f33a-4cf0-b7a0-7a2104f23c08"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Selecting reviews with a star rating of more than three","elementId":"a63b366e-d279-4e2f-9bad-8f6626a3664f","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/00d985cf84332583bf97.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>It’s all too much</h2>","elementId":"c08b5c14-0f91-4f93-a726-cc1ce902d5e1"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>This returned quite a lot of results. To find out exactly how many, we can use the length function. Note that to use length we have to wrap the preceding filters in square brackets to turn their output into an array.</p>","elementId":"3ddc838d-3944-4dfe-b7fd-f96bec287f84"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Counting results with the length function","elementId":"f726c972-69ca-40a8-b7a8-d7585ab6f97a","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/3024a96ab3858d2f2183.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>57 results apparently — rather too many to get through in an afternoon! So let’s just concentrate on the five star reviews — there are only six of them, and here they are:</p>","elementId":"0468ff6c-f323-434f-8f4e-03334eb304df"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Five star reviews in the last month","elementId":"72ccbb5a-196f-484b-a957-c5889974de9e","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/cfdbff81c63cc5f5a96b.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>So that’s my listening for the afternoon sorted out: a heady mix of classical and Napalm Death, with some Dylan and Natalie Prass thrown in for good measure.</p>","elementId":"e6caa9af-2336-48bd-962d-3614526e8936"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>It’s all over now baby blue</h2>","elementId":"5f61c1b5-61ea-4c6b-a1f9-1080c39c0123"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>I found working with jq a real pleasure once I grasped the basics of chaining filters to select, transform and analyse JSON. JSON is such a central part of so many applications these days that it is great to have such a powerful tool at our disposal. The syntax is beautifully terse — pretty much anything can be accomplished in a one-liner and the concept of mapping and filtering to transform inputs will feel totally natural to anyone with a functional programming background.</p>","elementId":"703822eb-9c25-43f4-994a-825e24bb32b1"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Here is my final script for retrieving five star reviews from the Content API. In the final version I’ve added an additional filter to remove any results where the star rating is missing and also included the web url with the output.</p>","elementId":"570af54b-acf5-4a8e-b727-ccd36ecc7f5f"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"Fetch all 5 star reviews from the Guardian content api and process them with jq","elementId":"f05ceb98-db48-45ce-85f8-e859f91c557d","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/rupertbates/f51570b9690d612c1f29.js\"></script>"}],"attributes":{"pinned":false,"keyEvent":false,"summary":false},"blockCreatedOn":1423588246000,"blockCreatedOnDisplay":"17.10 GMT","blockLastUpdated":1423587573000,"blockLastUpdatedDisplay":"16.59 GMT","blockFirstPublished":1423588246000,"blockFirstPublishedDisplay":"17.10 GMT","blockFirstPublishedDisplayNoTimezone":"17.10","contributors":[],"primaryDateLine":"Tue 10 Feb 2015 17.10 GMT","secondaryDateLine":"Last modified on Thu 12 Nov 2020 16.31 GMT"}],"author":{"byline":"Rupert Bates"},"byline":"Rupert Bates","webPublicationDate":"2015-02-10T17:10:46.000Z","webPublicationDateDeprecated":"2015-02-10T17:10:46.000Z","webPublicationDateDisplay":"Tue 10 Feb 2015 17.10 GMT","webPublicationSecondaryDateDisplay":"Last modified on Thu 12 Nov 2020 16.31 GMT","editionLongForm":"UK edition","editionId":"UK","pageId":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","canonicalUrl":"https://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","format":{"design":"ArticleDesign","theme":"NewsPillar","display":"StandardDisplay"},"designType":"Article","tags":[{"id":"info/series/engineering-blog","type":"Series","title":"Engineering blog"},{"id":"technology/technology","type":"Keyword","title":"Technology"},{"id":"technology/programming","type":"Keyword","title":"Programming"},{"id":"technology/computing","type":"Keyword","title":"Computing"},{"id":"type/article","type":"Type","title":"Article"},{"id":"tone/blog","type":"Tone","title":"Blogposts"},{"id":"profile/rupert-bates","type":"Contributor","title":"Rupert Bates","bylineImageUrl":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/photobylines/2011/1/18/1295367466132/Rupert-Bates-byline-003.jpg?width=300&quality=85&auto=format&fit=max&s=8cc7ed631e46635826a757c0e1778d60"}],"pillar":"news","isLegacyInteractive":false,"isImmersive":false,"sectionLabel":"Technology","sectionUrl":"technology/technology","sectionName":"info","subMetaSectionLinks":[{"url":"/technology/technology","title":"Technology"},{"url":"/info/series/engineering-blog","title":"Engineering blog"}],"subMetaKeywordLinks":[{"url":"/technology/programming","title":"Programming"},{"url":"/technology/computing","title":"Computing"},{"url":"/tone/blog","title":"blogposts"}],"shouldHideAds":false,"isAdFreeUser":false,"webURL":"https://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","linkedData":[{"@type":"NewsArticle","@context":"https://schema.org","@id":"https://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","publisher":{"@type":"Organization","@context":"https://schema.org","@id":"https://www.theguardian.com#publisher","name":"The Guardian","url":"https://www.theguardian.com/","logo":{"@type":"ImageObject","url":"https://uploads.guim.co.uk/2018/01/31/TheGuardian_AMP.png","width":190,"height":60},"sameAs":["https://www.facebook.com/theguardian","https://twitter.com/guardian","https://www.youtube.com/user/TheGuardian"]},"isAccessibleForFree":true,"isPartOf":{"@type":["CreativeWork","Product"],"name":"The Guardian","productID":"theguardian.com:basic"},"image":["https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctYWdlLTIwMTUucG5n&enable=upscale&s=d75f5490faa38cd16ffbed5b2bf41d95","https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png","https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png","https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png"],"author":[{"@type":"Person","name":"Rupert Bates","sameAs":"https://www.theguardian.com/profile/rupert-bates"}],"datePublished":"2015-02-10T17:10:46.000Z","headline":"What to listen to next? jq to the rescue!","dateModified":"2020-11-12T16:31:11.000Z","mainEntityOfPage":"https://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"@type":"WebPage","@context":"https://schema.org","@id":"https://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","potentialAction":{"@type":"ViewAction","target":"android-app://com.guardian/https/www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"}}],"openGraphData":{"og:url":"http://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","article:author":"https://www.theguardian.com/profile/rupert-bates","og:image:width":"1200","og:image":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctYWdlLTIwMTUucG5n&enable=upscale&s=d75f5490faa38cd16ffbed5b2bf41d95","al:ios:url":"gnmguardian://info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue?contenttype=Article&source=applinks","article:publisher":"https://www.facebook.com/theguardian","og:title":"What to listen to next? jq to the rescue!","fb:app_id":"180444840287","article:modified_time":"2020-11-12T16:31:11.000Z","og:image:height":"720","og:description":"Search the Guardian for five star music reviews directly from your command-line","og:type":"article","al:ios:app_store_id":"409128287","article:section":"Info","article:published_time":"2015-02-10T17:10:46.000Z","article:tag":"Technology,Programming,Computing","al:ios:app_name":"The Guardian","og:site_name":"the Guardian"},"twitterData":{"twitter:app:id:iphone":"409128287","twitter:app:name:googleplay":"The Guardian","twitter:app:name:ipad":"The Guardian","twitter:card":"summary_large_image","twitter:app:name:iphone":"The Guardian","twitter:app:id:ipad":"409128287","twitter:app:id:googleplay":"com.guardian","twitter:app:url:googleplay":"guardian://www.theguardian.com/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","twitter:app:url:iphone":"gnmguardian://info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue?contenttype=Article&source=twitter","twitter:image":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctYWdlLTIwMTUucG5n&s=8ce557dccd4ee98055f5dea5205e093e","twitter:site":"@guardian","twitter:app:url:ipad":"gnmguardian://info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue?contenttype=Article&source=twitter"},"config":{"switches":{"lightbox":true,"abPrebidKeywords":true,"personaliseSignInGateAfterCheckout":true,"abSignInGateMainVariant":true,"prebidAppnexusUkRow":true,"prebidMagnite":true,"commercialMetrics":true,"prebidTrustx":true,"scAdFreeBanner":false,"adaptiveSite":true,"prebidPermutiveAudience":true,"compareVariantDecision":false,"enableSentryReporting":true,"lazyLoadContainers":true,"ampArticleSwitch":false,"remarketing":true,"articleEndSlot":true,"keyEventsCarousel":true,"registerWithPhone":false,"darkModeWeb":true,"targeting":true,"remoteHeader":true,"slotBodyEnd":true,"ampPrebidOzone":false,"extendedMostPopularFronts":true,"emailInlineInFooter":true,"showNewPrivacyWordingOnEmailSignupEmbeds":true,"prebidAnalytics":true,"extendedMostPopular":true,"ampContentAbTesting":false,"prebidCriteo":true,"okta":true,"imrWorldwide":true,"acast":true,"twitterUwt":true,"abAuxiaSignInGate":false,"abDeferPermutiveLoad":true,"prebidAppnexusInvcode":true,"ampPrebidPubmatic":false,"a9HeaderBidding":true,"prebidAppnexus":true,"enableDiscussionSwitch":true,"prebidXaxis":true,"stickyVideos":true,"interactiveFullHeaderSwitch":true,"discussionAllPageSize":true,"prebidUserSync":true,"audioOnwardJourneySwitch":true,"abMovePermutiveSegmentation":false,"brazeTaylorReport":false,"externalVideoEmbeds":true,"abTheTradeDesk":true,"callouts":true,"sentinelLogger":true,"geoMostPopular":true,"weAreHiring":false,"relatedContent":true,"thirdPartyEmbedTracking":true,"prebidOzone":true,"ampLiveblogSwitch":false,"ampAmazon":false,"prebidAdYouLike":true,"mostViewedFronts":true,"optOutAdvertising":true,"abSignInGateMainControl":true,"googleSearch":true,"abOptOutFrequencyCap":true,"brazeSwitch":true,"prebidKargo":true,"consentManagement":true,"idProfileNavigation":true,"confiantAdVerification":true,"discussionAllowAnonymousRecommendsSwitch":false,"dcrCrosswords":true,"absoluteServerTimes":false,"permutive":true,"comscore":true,"ampPrebidCriteo":false,"prebidTheTradeDesk":true,"loopVideoTest":false,"newsletterOnwards":false,"youtubeIma":true,"webFonts":true,"liveBlogTopSponsorship":true,"abAdBlockAsk":false,"ophan":true,"crosswordSvgThumbnails":true,"prebidTriplelift":true,"prebidPubmatic":true,"serverShareCounts":false,"autoRefresh":true,"enhanceTweets":true,"prebidIndexExchange":true,"prebidOpenx":true,"prebidHeaderBidding":true,"idCookieRefresh":true,"discussionPageSize":true,"smartAppBanner":false,"historyTags":true,"brazeContentCards":true,"remoteBanner":true,"emailSignupRecaptcha":true,"prebidSmart":true,"shouldLoadGoogletag":true,"inizio":true,"europeBetaFront":true},"abTests":{},"googletagUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","stage":"PROD","frontendAssetsFullURL":"https://assets.guim.co.uk/","ampIframeUrl":"https://assets.guim.co.uk/data/vendor/2533d5cb94302889e6a8f1b24b5329e7/amp-iframe.html","tones":"Blogposts","facebookIaAdUnitRoot":"facebook-instant-articles","avatarApiUrl":"https://avatar.theguardian.com","isSplash":false,"isColumn":false,"membershipUrl":"https://membership.theguardian.com","headline":"What to listen to next? jq to the rescue!","isImmersive":false,"author":"Rupert Bates","ipsosTag":"guardian","isProd":true,"series":"Engineering blog","toneIds":"tone/blog","membershipAccess":"","allowUserGeneratedContent":false,"commissioningDesks":"","webPublicationDate":1423588246000,"forecastsapiurl":"/weatherapi/forecast","supportUrl":"https://support.theguardian.com","isNumberedList":false,"commercialBundleUrl":"https://assets.guim.co.uk/commercial/47e59a6f2531251d895a/graun.standalone.commercial.js","idOAuthUrl":"https://oauth.theguardian.com","webTitle":"What to listen to next? jq to the rescue!","isPhotoEssay":false,"idWebAppUrl":"https://oauth.theguardian.com","a9PublisherId":"3722","isFront":false,"inBodyInternalLinkCount":0,"googleSearchUrl":"//www.google.co.uk/cse/cse.js","inBodyExternalLinkCount":7,"showRelatedContent":true,"lightboxImages":{"id":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","headline":"What to listen to next? jq to the rescue!","shouldHideAdverts":false,"standfirst":"<p>Search the Guardian for five star music reviews directly from your command-line<br></p>","images":[{"caption":"bob dylan- the complete album collection, vol. one <a href=\"https://www.flickr.com/photos/cdrummbks/12036546815/\">Photograph: CHRIS DRUMM/flickr</a>","credit":"Photograph: CHRIS DRUMM/flickr","displayCredit":false,"src":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=700&quality=85&auto=format&fit=max&s=c908588d1c4d817ca61f08b13a2de397","srcsets":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1920&quality=85&auto=format&fit=max&s=d0d38782fb803b6aa7502719f8dfe177 1920w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1225&quality=85&auto=format&fit=max&s=490233ae0cfc7c8187da99a7f7142cfb 1225w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=1065&quality=85&auto=format&fit=max&s=895a770821f58bbc1f2a889c35761f16 1065w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=965&quality=85&auto=format&fit=max&s=a86c6fc310bbe35f046d552bb62a9a6f 965w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=725&quality=85&auto=format&fit=max&s=aaebbc651a59679c9768afd81ce1d9ad 725w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=645&quality=85&auto=format&fit=max&s=114ef282106ef23e5a18af20ebc11148 645w, https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588025545/12036546815_777c14c432_o-1020x612.jpeg?width=465&quality=85&auto=format&fit=max&s=0ea0f11c802f7481917cd088346a1e1e 465w","sizes":"(min-width: 1300px) 1920px, (min-width: 1140px) 1225px, (min-width: 980px) 1065px, (min-width: 740px) 965px, (min-width: 660px) 725px, (min-width: 480px) 645px, 465px","ratio":1.6666666666666667,"role":"None","parentContentId":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","id":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"}]},"googleSearchId":"007466294097402385199:m2ealvuxh1i","shouldHideReaderRevenue":false,"idUrl":"https://profile.theguardian.com","hasSurveyAd":false,"omnitureAmpAccount":"guardiangu-thirdpartyapps","dfpAdUnitRoot":"theguardian.com","host":"https://www.theguardian.com","blogIds":"","sectionName":"Info","hasMultipleVideosInPage":false,"hasShowcaseMainElement":false,"googleRecaptchaSiteKey":"6LdzlmsdAAAAALFH63cBVagSFPuuHXQ9OfpIDdMc","fbAppId":"180444840287","isContent":true,"shortUrlId":"/p/45f84","dfpAccountId":"59666047","plistaPublicApiKey":"462925f4f131001fd974bebe","wordCount":1093,"hasLiveBlogTopAd":false,"dcrSentryDsn":"https://1937ab71c8804b2b8438178dfdd6468f@sentry.io/1377847","cardStyle":"news","adUnit":"/59666047/theguardian.com/info/article/ng","discussionApiUrl":"https://discussion.theguardian.com/discussion-api","isSensitive":false,"ophanEmbedJsUrl":"//j.ophan.co.uk/ophan.embed","edition":"UK","brazeApiKey":"7f28c639-8bda-48ff-a3f6-24345abfc07c","blogs":"","discussionApiClientHeader":"nextgen","section":"info","userAttributesApiUrl":"https://members-data-api.theguardian.com/user-attributes","videoDuration":0,"dfpHost":"pubads.g.doubleclick.net","weatherapiurl":"/weatherapi/city","sentryPublicApiKey":"344003a8d11c41d8800fbad8383fdc50","shortUrl":"https://www.theguardian.com/p/45f84","thumbnail":"https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2015/2/10/1423588023419/12036546815_777c14c432_o-460x276.jpeg?quality=85&auto=format&fit=max&s=8b6971a2fd3a0cd20bcc4960d01f66b6","pillar":"News","pageId":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","references":[{"rich-link":"https://www.theguardian.com/info/ng-interactive/2021/jun/25/techscape-sign-up"}],"beaconUrl":"//phar.gu-web.net","commentable":true,"discussionD2Uid":"zHoBy6HNKsk","ophanJsUrl":"//j.ophan.co.uk/ophan.ng","contributorBio":"","keywordIds":"technology/technology,technology/programming,technology/computing","contentType":"Article","isDev":false,"isHosted":false,"isAdFree":false,"stripePublicToken":"pk_live_2O6zPMHXNs2AGea4bAmq5R7Z","omnitureAccount":"guardiangu-network","locationapiurl":"/weatherapi/locations?query=","authorIds":"profile/rupert-bates","isPaidContent":false,"hasYouTubeAtom":false,"externalEmbedHost":"https://embed.theguardian.com","thirdPartyAppsAccount":"guardiangu-thirdpartyapps","ajaxUrl":"https://api.nextgen.guardianapps.co.uk","byline":"Rupert Bates","keywords":"Technology,Programming,Computing","contentId":"info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue","nonKeywordTagIds":"info/series/engineering-blog,type/article,tone/blog,profile/rupert-bates","mobileAppsAdUnitRoot":"beta-guardian-app","hasPageSkin":false,"requiresMembershipAccess":false,"seriesTags":"Engineering blog","revisionNumber":"DEV","seriesId":"info/series/engineering-blog","optimizeEpicUrl":"https://support.theguardian.com/epic/control/index.html","assetsPath":"https://assets.guim.co.uk/","mmaUrl":"https://manage.theguardian.com","isLive":false,"richLink":"/info/ng-interactive/2021/jun/25/techscape-sign-up","campaigns":[],"isLiveBlog":false,"pageCode":"2235334","avatarImagesUrl":"https://avatar.guim.co.uk","publication":"theguardian.com","sentryHost":"app.getsentry.com/35463","buildNumber":"DEV","userBenefitsApiUrl":"https://user-benefits.guardianapis.com/benefits/me","sharedAdTargeting":{"se":["engineering-blog"],"ct":"article","su":["0"],"edition":"uk","tn":["blog"],"p":"ng","k":["programming","computing","technology"],"sh":"https://www.theguardian.com/p/45f84","co":["rupert-bates"],"url":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},"onwardWebSocket":"ws://api.nextgen.guardianapps.co.uk/recently-published","productionOffice":"Uk","shouldHideAdverts":false,"idApiUrl":"https://idapi.theguardian.com","pbIndexSites":[{"bp":"D","id":208247},{"bp":"M","id":213519},{"bp":"T","id":215454}],"googletagJsUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","calloutsUrl":"https://callouts.guardianapis.com/formstack-campaign/submit","isPreview":false},"guardianBaseURL":"https://www.theguardian.com","contentType":"Article","hasRelated":true,"hasStoryPackage":false,"beaconURL":"//phar.gu-web.net","isCommentable":true,"commercialProperties":{"US":{"adTargeting":[{"name":"su","value":["0"]},{"name":"edition","value":"us"},{"name":"ct","value":"article"},{"name":"co","value":["rupert-bates"]},{"name":"url","value":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"name":"tn","value":["blog"]},{"name":"se","value":["engineering-blog"]},{"name":"sh","value":"https://www.theguardian.com/p/45f84"},{"name":"p","value":"ng"},{"name":"k","value":["programming","computing","technology"]}]},"AU":{"adTargeting":[{"name":"su","value":["0"]},{"name":"edition","value":"au"},{"name":"ct","value":"article"},{"name":"co","value":["rupert-bates"]},{"name":"url","value":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"name":"tn","value":["blog"]},{"name":"se","value":["engineering-blog"]},{"name":"sh","value":"https://www.theguardian.com/p/45f84"},{"name":"p","value":"ng"},{"name":"k","value":["programming","computing","technology"]}]},"UK":{"adTargeting":[{"name":"su","value":["0"]},{"name":"edition","value":"uk"},{"name":"ct","value":"article"},{"name":"co","value":["rupert-bates"]},{"name":"url","value":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"name":"tn","value":["blog"]},{"name":"se","value":["engineering-blog"]},{"name":"sh","value":"https://www.theguardian.com/p/45f84"},{"name":"p","value":"ng"},{"name":"k","value":["programming","computing","technology"]}]},"INT":{"adTargeting":[{"name":"su","value":["0"]},{"name":"ct","value":"article"},{"name":"co","value":["rupert-bates"]},{"name":"url","value":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"name":"tn","value":["blog"]},{"name":"edition","value":"int"},{"name":"se","value":["engineering-blog"]},{"name":"sh","value":"https://www.theguardian.com/p/45f84"},{"name":"p","value":"ng"},{"name":"k","value":["programming","computing","technology"]}]},"EUR":{"adTargeting":[{"name":"su","value":["0"]},{"name":"ct","value":"article"},{"name":"co","value":["rupert-bates"]},{"name":"url","value":"/info/developer-blog/2015/feb/10/what-to-listen-to-next-jq-to-the-rescue"},{"name":"tn","value":["blog"]},{"name":"edition","value":"eur"},{"name":"se","value":["engineering-blog"]},{"name":"sh","value":"https://www.theguardian.com/p/45f84"},{"name":"p","value":"ng"},{"name":"k","value":["programming","computing","technology"]}]}},"pageType":{"hasShowcaseMainElement":false,"isFront":false,"isLiveblog":false,"isMinuteArticle":false,"isPaidContent":false,"isPreview":false,"isSensitive":false},"trailText":"Search the Guardian for five star music reviews directly from your command-line<br>","nav":{"currentUrl":"/info","pillars":[{"title":"News","url":"/","longTitle":"Headlines","iconName":"home","children":[{"title":"UK","url":"/uk-news","longTitle":"UK news","children":[{"title":"UK politics","url":"/politics"},{"title":"Education","url":"/education","children":[{"title":"Schools","url":"/education/schools"},{"title":"Teachers","url":"/teacher-network"},{"title":"Universities","url":"/education/universities"},{"title":"Students","url":"/education/students"}]},{"title":"Media","url":"/media"},{"title":"Society","url":"/society"},{"title":"Law","url":"/law"},{"title":"Scotland","url":"/uk/scotland"},{"title":"Wales","url":"/uk/wales"},{"title":"Northern Ireland","url":"/uk/northernireland"}]},{"title":"US politics","url":"/us-news/us-politics"},{"title":"World","url":"/world","longTitle":"World news","children":[{"title":"Europe","url":"/world/europe-news"},{"title":"US","url":"/us-news","longTitle":"US news"},{"title":"Americas","url":"/world/americas"},{"title":"Asia","url":"/world/asia"},{"title":"Australia","url":"/australia-news","longTitle":"Australia news"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Africa","url":"/world/africa"},{"title":"Inequality","url":"/inequality"},{"title":"Global development","url":"/global-development"}]},{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Ukraine","url":"/world/ukraine"},{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Business","url":"/business","children":[{"title":"Economics","url":"/business/economics"},{"title":"Banking","url":"/business/banking"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Markets","url":"/business/stock-markets"},{"title":"Project Syndicate","url":"/business/series/project-syndicate-economists"},{"title":"B2B","url":"/business-to-business"},{"title":"Retail","url":"/business/retail"}]},{"title":"Environment","url":"/environment","children":[{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Wildlife","url":"/environment/wildlife"},{"title":"Energy","url":"/environment/energy"},{"title":"Pollution","url":"/environment/pollution"}]},{"title":"UK politics","url":"/politics"},{"title":"Society","url":"/society"},{"title":"Science","url":"/science"},{"title":"Tech","url":"/technology"},{"title":"Global development","url":"/global-development"},{"title":"Obituaries","url":"/obituaries"}]},{"title":"Opinion","url":"/commentisfree","longTitle":"Opinion home","iconName":"home","children":[{"title":"The Guardian view","url":"/profile/editorial"},{"title":"Columnists","url":"/index/contributors"},{"title":"Cartoons","url":"/tone/cartoons"},{"title":"Opinion videos","url":"/type/video+tone/comment"},{"title":"Letters","url":"/tone/letters"}]},{"title":"Sport","url":"/sport","longTitle":"Sport home","iconName":"home","children":[{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Cricket","url":"/sport/cricket"},{"title":"Rugby union","url":"/sport/rugby-union"},{"title":"Tennis","url":"/sport/tennis"},{"title":"Cycling","url":"/sport/cycling"},{"title":"F1","url":"/sport/formulaone"},{"title":"Golf","url":"/sport/golf"},{"title":"Boxing","url":"/sport/boxing"},{"title":"Rugby league","url":"/sport/rugbyleague"},{"title":"Racing","url":"/sport/horse-racing"},{"title":"US sports","url":"/sport/us-sport"}]},{"title":"Culture","url":"/culture","longTitle":"Culture home","iconName":"home","children":[{"title":"Film","url":"/film"},{"title":"Music","url":"/music"},{"title":"TV & radio","url":"/tv-and-radio"},{"title":"Books","url":"/books"},{"title":"Art & design","url":"/artanddesign"},{"title":"Stage","url":"/stage"},{"title":"Games","url":"/games"},{"title":"Classical","url":"/music/classicalmusicandopera"}]},{"title":"Lifestyle","url":"/lifeandstyle","longTitle":"Lifestyle home","iconName":"home","children":[{"title":"The Filter","url":"/uk/thefilter"},{"title":"Fashion","url":"/fashion"},{"title":"Food","url":"/food"},{"title":"Recipes","url":"/tone/recipes"},{"title":"Travel","url":"/travel","children":[{"title":"UK","url":"/travel/uk"},{"title":"Europe","url":"/travel/europe"},{"title":"US","url":"/travel/usa"}]},{"title":"Health & fitness","url":"/lifeandstyle/health-and-wellbeing"},{"title":"Women","url":"/lifeandstyle/women"},{"title":"Men","url":"/lifeandstyle/men"},{"title":"Love & sex","url":"/lifeandstyle/love-and-sex"},{"title":"Beauty","url":"/fashion/beauty"},{"title":"Home & garden","url":"/lifeandstyle/home-and-garden"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Cars","url":"/technology/motoring"}]}],"otherLinks":[{"title":"The Guardian app","url":"https://app.adjust.com/16xt6hai"},{"title":"Video","url":"/video"},{"title":"Podcasts","url":"/podcasts"},{"title":"Pictures","url":"/inpictures"},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Today's paper","url":"/theguardian","children":[{"title":"Obituaries","url":"/obituaries"},{"title":"G2","url":"/theguardian/g2"},{"title":"Journal","url":"/theguardian/journal"},{"title":"Saturday","url":"/theguardian/saturday"}]},{"title":"Inside the Guardian","url":"https://www.theguardian.com/insidetheguardian"},{"title":"The Observer","url":"/observer","children":[{"title":"Comment","url":"/theobserver/news/comment"},{"title":"The New Review","url":"/theobserver/new-review"},{"title":"Observer Magazine","url":"/theobserver/magazine"},{"title":"Observer Food Monthly","url":"/theobserver/foodmonthly"}]},{"title":"Guardian Weekly","url":"https://www.theguardian.com/weekly?INTCMP=gdnwb_mawns_editorial_gweekly_GW_TopNav_UK"},{"title":"Crosswords","url":"/crosswords","children":[{"title":"Blog","url":"/crosswords/crossword-blog"},{"title":"Quick","url":"/crosswords/series/quick"},{"title":"Speedy","url":"/crosswords/series/speedy"},{"title":"Quick cryptic","url":"/crosswords/series/quick-cryptic"},{"title":"Everyman","url":"/crosswords/series/everyman"},{"title":"Quiptic","url":"/crosswords/series/quiptic"},{"title":"Cryptic","url":"/crosswords/series/cryptic"},{"title":"Prize","url":"/crosswords/series/prize"},{"title":"Azed","url":"/crosswords/series/azed"},{"title":"Genius","url":"/crosswords/series/genius"},{"title":"Weekend","url":"/crosswords/series/weekend-crossword"},{"title":"Special","url":"/crosswords/series/special"}]},{"title":"Wordiply","url":"https://www.wordiply.com"},{"title":"Corrections","url":"/theguardian/series/corrections-and-clarifications"}],"brandExtensions":[{"title":"Search jobs","url":"https://jobs.theguardian.com"},{"title":"Hire with Guardian Jobs","url":"https://recruiters.theguardian.com/?utm_source=gdnwb&utm_medium=navbar&utm_campaign=Guardian_Navbar_Recruiters&CMP_TU=trdmkt&CMP_BUNIT=jobs"},{"title":"Holidays","url":"https://holidays.theguardian.com?INTCMP=holidays_uk_web_newheader"},{"title":"Live events","url":"https://www.theguardian.com/guardian-live-events?INTCMP=live_uk_header_dropdown"},{"title":"About Us","url":"/about"},{"title":"Digital Archive","url":"https://theguardian.newspapers.com"},{"title":"Guardian Print Shop","url":"/artanddesign/series/gnm-print-sales"},{"title":"Patrons","url":"https://patrons.theguardian.com/?INTCMP=header_patrons"},{"title":"Guardian Licensing","url":"https://licensing.theguardian.com/"}],"readerRevenueLinks":{"header":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"footer":{"contribute":"https://support.theguardian.com/contribute?INTCMP=footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_supporter_cta%22%7D"},"sideMenu":{"contribute":"https://support.theguardian.com/contribute?INTCMP=side_menu_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=side_menu_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=side_menu_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=mobilenav_print_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22mobilenav_print_cta%22%7D"},"ampHeader":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=amp_header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22amp_header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"ampFooter":{"contribute":"https://support.theguardian.com/contribute?INTCMP=amp_footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_supporter_cta%22%7D"}}},"showBottomSocialButtons":true,"pageFooter":{"footerLinks":[[{"text":"About us","url":"/about","dataLinkName":"uk : footer : about us","extraClasses":""},{"text":"Help","url":"https://manage.theguardian.com/help-centre","dataLinkName":"uk : footer : tech feedback","extraClasses":"js-tech-feedback-report"},{"text":"Complaints & corrections","url":"/info/complaints-and-corrections","dataLinkName":"complaints","extraClasses":""},{"text":"SecureDrop","url":"https://www.theguardian.com/securedrop","dataLinkName":"securedrop","extraClasses":""},{"text":"Work for us","url":"https://workforus.theguardian.com","dataLinkName":"uk : footer : work for us","extraClasses":""},{"text":"Privacy policy","url":"/info/privacy","dataLinkName":"privacy","extraClasses":""},{"text":"Cookie policy","url":"/info/cookies","dataLinkName":"cookie","extraClasses":""},{"text":"Terms & conditions","url":"/help/terms-of-service","dataLinkName":"terms","extraClasses":""},{"text":"Contact us","url":"/help/contact-us","dataLinkName":"uk : footer : contact us","extraClasses":""}],[{"text":"All topics","url":"/index/subjects/a","dataLinkName":"uk : footer : all topics","extraClasses":""},{"text":"All writers","url":"/index/contributors","dataLinkName":"uk : footer : all contributors","extraClasses":""},{"text":"Modern Slavery Act","url":"https://uploads.guim.co.uk/2024/09/04/Modern_Slavery_Statement_2024_.pdf","dataLinkName":"uk : footer : modern slavery act statement","extraClasses":""},{"text":"Tax strategy","url":"https://uploads.guim.co.uk/2024/08/27/TAX_STRATEGY_FOR_THE_YEAR_ENDED_31_MARCH_2025.pdf","dataLinkName":"uk : footer : tax strategy","extraClasses":""},{"text":"Digital newspaper archive","url":"https://theguardian.newspapers.com","dataLinkName":"digital newspaper archive","extraClasses":""},{"text":"Facebook","url":"https://www.facebook.com/theguardian","dataLinkName":"uk : footer : facebook","extraClasses":""},{"text":"YouTube","url":"https://www.youtube.com/user/TheGuardian","dataLinkName":"uk : footer : youtube","extraClasses":""},{"text":"Instagram","url":"https://www.instagram.com/guardian","dataLinkName":"uk : footer : instagram","extraClasses":""},{"text":"LinkedIn","url":"https://www.linkedin.com/company/theguardian","dataLinkName":"uk : footer : linkedin","extraClasses":""},{"text":"Newsletters","url":"/email-newsletters?INTCMP=DOTCOM_FOOTER_NEWSLETTER_UK","dataLinkName":"uk : footer : newsletters","extraClasses":""}],[{"text":"Advertise with us","url":"https://advertising.theguardian.com","dataLinkName":"uk : footer : advertise with us","extraClasses":""},{"text":"Guardian Labs","url":"/guardian-labs","dataLinkName":"uk : footer : guardian labs","extraClasses":""},{"text":"Search jobs","url":"https://jobs.theguardian.com","dataLinkName":"uk : footer : jobs","extraClasses":""},{"text":"Patrons","url":"https://patrons.theguardian.com?INTCMP=footer_patrons","dataLinkName":"uk : footer : patrons","extraClasses":""}]]},"publication":"theguardian.com","shouldHideReaderRevenue":false,"slotMachineFlags":"","contributionsServiceUrl":"https://contributions.guardianapis.com","isSpecialReport":false,"showTableOfContents":false,"lang":"en","isRightToLeftLang":false}