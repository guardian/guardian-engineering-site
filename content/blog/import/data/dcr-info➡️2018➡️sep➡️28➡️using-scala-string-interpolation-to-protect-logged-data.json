{"version":3,"headline":"Using Scala string interpolation to protect logged data","standfirst":"<p>If you want to debug your code, you need comprehensive logging. But when you want to reuse the logs for alerting, how do you protect data from access by the alerting system? </p>","webTitle":"Using Scala string interpolation to protect logged data","mainMediaElements":[{"displayCredit":true,"_type":"model.dotcomrendering.pageElements.ImageBlockElement","role":"inline","media":{"allImages":[{"index":0,"fields":{"height":"1200","width":"2000"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/2000.jpg"},{"index":1,"fields":{"height":"600","width":"1000"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/1000.jpg"},{"index":2,"fields":{"height":"300","width":"500"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/500.jpg"},{"index":3,"fields":{"height":"84","width":"140"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/140.jpg"},{"index":4,"fields":{"height":"1875","width":"3126"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/3126.jpg"},{"index":5,"fields":{"isMaster":"true","height":"1875","width":"3126"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg"}]},"elementId":"676c9e87-4f41-402e-bd36-48416d90403b","imageSources":[{"weighting":"inline","srcSet":[{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=620&quality=85&auto=format&fit=max&s=633b3f563fb4047ade07a77ee39ed9cb","width":620},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=e6cd666751c0bc9d55a229218194c3fb","width":1240},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=85&auto=format&fit=max&s=d32194403c0cbbd1783d46478f2a02da","width":700},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=8e8c931298cc324082ee6edda42eb4d4","width":1400},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=620&quality=85&auto=format&fit=max&s=633b3f563fb4047ade07a77ee39ed9cb","width":620},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=e6cd666751c0bc9d55a229218194c3fb","width":1240},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=645&quality=85&auto=format&fit=max&s=dc1656a50feb4d0085db01fd679716d8","width":645},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=75326a14ed9902f268498aee6b5fd6b6","width":1290},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=465&quality=85&auto=format&fit=max&s=60fb51846063defb2a6340c542b2a7f3","width":465},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=90b662aec73d68349603054e8ae04117","width":930}]},{"weighting":"thumbnail","srcSet":[]},{"weighting":"supporting","srcSet":[]},{"weighting":"showcase","srcSet":[{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1020&quality=85&auto=format&fit=max&s=75bcb3d20a80253995aa35048a5ed34a","width":1020},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1020&quality=45&auto=format&fit=max&dpr=2&s=2f29815a8219f4ac9b646b652e2e5e8f","width":2040},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=940&quality=85&auto=format&fit=max&s=98b7f492e50bf63dd604d1f9849608ea","width":940},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=940&quality=45&auto=format&fit=max&dpr=2&s=9451f0c8a5ec0d7506bbb99f78f307bf","width":1880},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=85&auto=format&fit=max&s=d32194403c0cbbd1783d46478f2a02da","width":700},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=8e8c931298cc324082ee6edda42eb4d4","width":1400},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=85&auto=format&fit=max&s=d32194403c0cbbd1783d46478f2a02da","width":700},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=8e8c931298cc324082ee6edda42eb4d4","width":1400},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=660&quality=85&auto=format&fit=max&s=a6e38ac974481c65782708c805c985f6","width":660},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=e7b1c9edf734a62198cc36ee27791f56","width":1320},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=645&quality=85&auto=format&fit=max&s=dc1656a50feb4d0085db01fd679716d8","width":645},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=75326a14ed9902f268498aee6b5fd6b6","width":1290},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=465&quality=85&auto=format&fit=max&s=60fb51846063defb2a6340c542b2a7f3","width":465},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=90b662aec73d68349603054e8ae04117","width":930}]},{"weighting":"halfwidth","srcSet":[]},{"weighting":"immersive","srcSet":[{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1900&quality=85&auto=format&fit=max&s=2e331f8e3d38289ab49281c1540e6806","width":1900},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1900&quality=45&auto=format&fit=max&dpr=2&s=d8b21c687c6a95300dc20219c207dbab","width":3800},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1300&quality=85&auto=format&fit=max&s=1f42787966f0e045d3a13a4fec8d5590","width":1300},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1300&quality=45&auto=format&fit=max&dpr=2&s=46db6f57fcbca6d541677adaa182ffb1","width":2600},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1140&quality=85&auto=format&fit=max&s=f544c28d179f4ceb41e05daf32e1246f","width":1140},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1140&quality=45&auto=format&fit=max&dpr=2&s=1a7aa8f1193ee9a6eaa4477bf8a73834","width":2280},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=980&quality=85&auto=format&fit=max&s=899cd2f0b3ca99b1a537b43b95a06842","width":980},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=980&quality=45&auto=format&fit=max&dpr=2&s=2f2526377c65b42425021598b5c79ccf","width":1960},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=740&quality=85&auto=format&fit=max&s=c408e95bd2e1ec10b896a8e7bd1e2b0d","width":740},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=740&quality=45&auto=format&fit=max&dpr=2&s=1e0965b7d53d5af2e19ce289bc6e59e3","width":1480},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=660&quality=85&auto=format&fit=max&s=a6e38ac974481c65782708c805c985f6","width":660},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=e7b1c9edf734a62198cc36ee27791f56","width":1320},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=480&quality=85&auto=format&fit=max&s=a3ba6162fe7c9632c1d8f10ae3eb39c7","width":480},{"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=480&quality=45&auto=format&fit=max&dpr=2&s=e0969f9664ec14b5bef599ed66cd74c0","width":960}]}],"data":{"alt":"A destroyed hard disk previously containing sensitive data","caption":"A destroyed hard disk previously containing sensitive data","credit":"Photograph: Nicole Lacourse/The Guardian"}}],"main":"<figure class=\"element element-image\" data-media-id=\"69547e1fd28ced43efe282b954541c2d57eacd37\"> <img src=\"https://media.guim.co.uk/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/1000.jpg\" alt=\"A destroyed hard disk previously containing sensitive data\" width=\"1000\" height=\"600\" class=\"gu-image\" /> <figcaption> <span class=\"element-image__caption\">A destroyed hard disk previously containing sensitive data</span> <span class=\"element-image__credit\">Photograph: Nicole Lacourse/The Guardian</span> </figcaption> </figure>","filterKeyEvents":false,"keyEvents":[],"blocks":[{"id":"5a8ea3d6e4b0398dfa927cac","elements":[{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>Taking care of data</h2>","elementId":"be3a163a-e538-4f04-ac97-36583d2077d4"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>It’s amazing how much personal data travels inside a running web app. This could include names, email addresses and even home addresses or anything entered into a website. These apps, which are designed, written and maintained by humans, fail for many reasons. Since we know that our applications will sometimes fail, we need ways to debug them.</p>","elementId":"6b05bc92-59d6-45e8-83cc-afd96eaf5b60"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Application logs are important for analysing specific reported or known problems. Clearly, an application log without any personal data would not provide much useful analysis as it would be very generic. Fortunately, our application logs are fully encrypted, access is controlled, and we have fine-grained control over where data is stored and how long we keep it for. This means we can temporarily store personal data for legitimate use.</p>","elementId":"28d19c8a-50d8-43d0-9445-c01c2fe64bd8"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Also essential to improve quality is a monitoring system that groups related errors together and sends alerts if necessary. However, third-party error aggregation tools often offer less control and, more generally, we do not want to store personal data in additional systems unless absolutely necessary. Under <a href=\"https://ico.org.uk/for-organisations/guide-to-the-general-data-protection-regulation-gdpr/\">GDPR</a>, we will have a duty to consider the need to store personal data even more carefully.</p>","elementId":"2f0c3b95-71e1-4f90-bef5-55cb961b116f"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>Our existing setup</h2>","elementId":"8db0c972-06e3-4191-99f2-4ccd896c4927"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>At the moment we capture the same exceptions and error messages for application logs and monitoring. This presents a problem because exceptions usually originate from unexpected circumstances, so it is easy to save personal data when an exception is caught. Similarly, a seemingly innocuous log statement - for example, logging an HTTP response body when a parsing failure occurs, can often contain personal or sensitive data.</p>","elementId":"ff85e9ea-50bc-47dd-b76e-ac72f7d31bd3"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Although we don’t want adding logging and alerting to be onerous, we want to be certain that we are not sending personal data to third-party systems. Since most of our server side code is written in Scala, we can use the type system to help us to avoid making this mistake.</p>","elementId":"4af1f8c6-a40c-42d0-9c66-51048ed14f1a"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>A technical solution in Scala</h2>","elementId":"0fa36ab8-6069-4a74-862d-01fa3c6aa526"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In our code we usually insert data into a string and pass directly to the error logger. This results in a string which is written to the application logs as well as a monitoring system (in our case this is Sentry). To avoid leaking personal data, the code must remember which parts of a string relate to the program, and which relate to the data being processed at the time of an error. Once we have this information, we can be more selective about where to send each error.</p>","elementId":"f175d445-2153-422c-9f8d-bf1fc04ada13"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>We can illustrate this with a simple code example:</p>","elementId":"c8e97f73-238a-4b16-93f8-177d9bfdda1f"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>First, we introduce some data that we want to hide</p>","elementId":"e51c1619-aa54-4495-8579-137c5a4ac07e"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"val danger = \"YIKES!\"\nval secret = \"hui840\"","caption":"","elementId":"5b4b342b-5bf0-4cf3-b96f-aaf2effb1a7f","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/8c73045b50e4adb2c9740d37ceed3824.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In Scala, a string can be interpolated with ‘s’.</p>","elementId":"78510bfd-d6d3-456f-96df-08c4604a3ec0"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"val autoInterpolated = s\"problem occurred $danger, id: $secret\"\n\n=> autoInterpolated: String = problem occurred YIKES!, id: hui840","caption":"","elementId":"7374b347-041e-4ae7-9975-af3ae044c38f","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/e27433ddd73122c952da55952cbe3f72.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Despite appearances this syntax is not actually a string. In fact, under the covers Scala converts the string to a StringContext and calls its method ‘s’</p>","elementId":"050fffea-79f5-482c-b2d4-946208eca393"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"val manualInterpolated =\n  StringContext(\n    \"problem occurred \", \", id: \", \"\"\n  ).s(\n    danger, secret\n  )","caption":"","elementId":"c98ef4df-7901-4e02-bfbc-e8bc184a76da","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/293b5246e7515e08b73e220f82681514.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>See <a href=\"https://docs.scala-lang.org/overviews/core/string-interpolation.html\">https://docs.scala-lang.org/overviews/core/string-interpolation.html</a> for more information on string interpolation.</p>","elementId":"41ddf63b-a67d-4e22-891e-1f0d101f4fb5"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The fact that interpolation is just calling a method on StringContext is an important aspect of interpolation, and we took advantage of this. We can implement an implicit class taking a StringContext and implement our own method that returns a case class instead of a string.</p>","elementId":"e307feb5-b2db-4d37-a96b-d479a073a83d"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"case class Scrubbed(danger: String, safe: String) {\n  override val toString = safe\n}\n\nimplicit class Scrubber(val sc: StringContext) extends AnyVal {\n\n  def scrub(args: Any*): Scrubbed = {\n    Scrubbed(\n      sc.s(args: _*),\n      sc.s(args.map(_ => \"*****\"): _*)\n    )\n  }\n\n}","caption":"","elementId":"654d0fdf-c540-49a7-ba0d-6293a7d34004","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/768570c7e87a61f87dc066163d0d6522.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Now we can generate a log message using the ‘scrub’ prefix, instead of standard string interpolation.</p>","elementId":"8cfe3b4e-f168-4e4c-9fc0-e8d7c39b0360"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"val scrubbed = scrub\"problem occurred $danger, id: $secret\"\n\n=> scrubbed: Scrubbed = problem occurred *****, id: *****","caption":"","elementId":"a11794ba-e527-4b31-81cf-4c05c346c0e4","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/6a382985f222bbf392127e5ec18fe7cd.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>We can then use this souped-up object to decide what is safe to send to which system.</p>","elementId":"3a7038d9-1eb4-4476-ace8-6ab3c9bdf993"},{"_type":"model.dotcomrendering.pageElements.EmbedBlockElement","isMandatory":false,"sourceDomain":"gist.github.com","safe":false,"alt":"val safeLogLine = scrubbed.safe\nval secretLogLine = scrubbed.danger\n\nsafeLogLine: String = sensitive problem occurred *****, id: *****\nsecretLogLine: String = sensitive problem occurred YIKES!, id: hui840","caption":"","elementId":"755f506b-93c5-4483-a2a3-59a4fe51f721","isThirdPartyTracking":true,"html":"<script src=\"https://gist.github.com/johnduffell/ec0f6c423bf9aa1cbe8820d83d42871e.js\"></script>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>To extend this idea, we can define a custom logger which only accepts our Scrubbed case class, and routes the anonymised and private messages to the right system. This prevents anyone working on the project from passing in ‘unsafe’ strings at compile time, and helps us to avoid inadvertently sending personal data to a third-party system.</p>","elementId":"d419bd4e-92cd-436c-a7cf-f33324aeb051"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Here is an example of where we are using it in production on one of our <a href=\"https://github.com/guardian/support-frontend/blob/5197baa756d75bcf024b3c647a57adcddb494e17/app/monitoring/Logging.scala#L19\">public projects</a>.</p>","elementId":"c45cbf1f-4d7b-4fa6-ab90-210ce16692c2"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>Final thoughts</h2>","elementId":"a55b53f9-08bb-451d-a117-a2ef8704a855"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Of course like any system, it is not perfect, merely good enough for now. A lot of data inserted into strings is not actually private in any way, for example whether an environment is PROD or DEV. Exceptions are currently treated as unsafe, however the stack trace at least should be safe. In future we could have a way of helping the compiler prove whether or not interpolated strings are safe, perhaps by using typeclasses or other implicits.</p>","elementId":"acb46228-05e2-40d7-a96a-2f0130c24c3b"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Until then, we will get benefits from the current implementation until it becomes a limitation. Let us know what you think in the comments or on twitter.</p>","elementId":"8c7c4e73-3014-4c87-855e-5ab9dc2b09d9"}],"attributes":{"pinned":false,"keyEvent":false,"summary":false},"blockCreatedOn":1538138622000,"blockCreatedOnDisplay":"13.43 BST","blockLastUpdated":1536931295000,"blockLastUpdatedDisplay":"14.21 BST","blockFirstPublished":1538138622000,"blockFirstPublishedDisplay":"13.43 BST","blockFirstPublishedDisplayNoTimezone":"13.43","contributors":[],"primaryDateLine":"Fri 28 Sep 2018 13.43 BST","secondaryDateLine":"Last modified on Thu 12 Nov 2020 16.31 GMT"}],"author":{"byline":"John Duffell and Jacob Winch"},"byline":"John Duffell and Jacob Winch","webPublicationDate":"2018-09-28T12:43:42.000Z","webPublicationDateDeprecated":"2018-09-28T12:43:42.000Z","webPublicationDateDisplay":"Fri 28 Sep 2018 13.43 BST","webPublicationSecondaryDateDisplay":"Last modified on Thu 12 Nov 2020 16.31 GMT","editionLongForm":"UK edition","editionId":"UK","pageId":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","canonicalUrl":"https://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","format":{"design":"ArticleDesign","theme":"NewsPillar","display":"StandardDisplay"},"designType":"Article","tags":[{"id":"info/series/engineering-blog","type":"Series","title":"Engineering blog"},{"id":"info/info","type":"Keyword","title":"Information"},{"id":"type/article","type":"Type","title":"Article"},{"id":"profile/john-duffell","type":"Contributor","title":"John Duffell"},{"id":"profile/jacob-winch","type":"Contributor","title":"Jacob Winch"}],"pillar":"news","isLegacyInteractive":false,"isImmersive":false,"sectionLabel":"Information","sectionUrl":"info/info","sectionName":"info","subMetaSectionLinks":[{"url":"/info/info","title":"Information"},{"url":"/info/series/engineering-blog","title":"Engineering blog"}],"subMetaKeywordLinks":[],"shouldHideAds":false,"isAdFreeUser":false,"webURL":"https://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","linkedData":[{"@type":"NewsArticle","@context":"https://schema.org","@id":"https://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","publisher":{"@type":"Organization","@context":"https://schema.org","@id":"https://www.theguardian.com#publisher","name":"The Guardian","url":"https://www.theguardian.com/","logo":{"@type":"ImageObject","url":"https://uploads.guim.co.uk/2018/01/31/TheGuardian_AMP.png","width":190,"height":60},"sameAs":["https://www.facebook.com/theguardian","https://twitter.com/guardian","https://www.youtube.com/user/TheGuardian"]},"isAccessibleForFree":true,"isPartOf":{"@type":["CreativeWork","Product"],"name":"The Guardian","productID":"theguardian.com:basic"},"image":["https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=e8547cf3b7df9d0f1ba1e26c53b78c10","https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=35e5cadc7cacfcbe65a2a6aff4934d83","https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&height=900&quality=85&auto=format&fit=crop&s=39e6a2c2dc994da84383f48e5a8b8d76","https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&quality=85&auto=format&fit=max&s=71e6c9835b82dec9a9d50cd97c80442d"],"author":[{"@type":"Person","name":"John Duffell","sameAs":"https://www.theguardian.com/profile/john-duffell"},{"@type":"Person","name":"Jacob Winch","sameAs":"https://www.theguardian.com/profile/jacob-winch"}],"datePublished":"2018-09-28T12:43:42.000Z","headline":"Using Scala string interpolation to protect logged data","dateModified":"2020-11-12T16:31:08.000Z","mainEntityOfPage":"https://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"@type":"WebPage","@context":"https://schema.org","@id":"https://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","potentialAction":{"@type":"ViewAction","target":"android-app://com.guardian/https/www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"}}],"openGraphData":{"og:url":"http://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","article:author":"https://www.theguardian.com/profile/john-duffell,https://www.theguardian.com/profile/jacob-winch","og:image:width":"1200","og:image":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=e8547cf3b7df9d0f1ba1e26c53b78c10","al:ios:url":"gnmguardian://info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data?contenttype=Article&source=applinks","article:publisher":"https://www.facebook.com/theguardian","og:title":"Using Scala string interpolation to protect logged data","fb:app_id":"180444840287","article:modified_time":"2020-11-12T16:31:08.000Z","og:image:height":"720","og:description":"If you want to debug your code, you need comprehensive logging. But when you want to reuse the logs for alerting, how do you protect data from access by the alerting system?","og:type":"article","al:ios:app_store_id":"409128287","article:section":"Info","article:published_time":"2018-09-28T12:43:42.000Z","article:tag":"Information","al:ios:app_name":"The Guardian","og:site_name":"the Guardian"},"twitterData":{"twitter:app:id:iphone":"409128287","twitter:app:name:googleplay":"The Guardian","twitter:app:name:ipad":"The Guardian","twitter:card":"summary_large_image","twitter:app:name:iphone":"The Guardian","twitter:app:id:ipad":"409128287","twitter:app:id:googleplay":"com.guardian","twitter:app:url:googleplay":"guardian://www.theguardian.com/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","twitter:app:url:iphone":"gnmguardian://info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data?contenttype=Article&source=twitter","twitter:image":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&s=95c1e0a986c4ef4147c08031c651e669","twitter:site":"@guardian","twitter:app:url:ipad":"gnmguardian://info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data?contenttype=Article&source=twitter"},"config":{"switches":{"lightbox":true,"abPrebidKeywords":true,"personaliseSignInGateAfterCheckout":true,"abSignInGateMainVariant":true,"prebidAppnexusUkRow":true,"prebidMagnite":true,"commercialMetrics":true,"prebidTrustx":true,"scAdFreeBanner":false,"adaptiveSite":true,"prebidPermutiveAudience":true,"compareVariantDecision":false,"enableSentryReporting":true,"lazyLoadContainers":true,"ampArticleSwitch":false,"remarketing":true,"articleEndSlot":true,"keyEventsCarousel":true,"registerWithPhone":false,"darkModeWeb":true,"targeting":true,"remoteHeader":true,"slotBodyEnd":true,"ampPrebidOzone":false,"extendedMostPopularFronts":true,"emailInlineInFooter":true,"showNewPrivacyWordingOnEmailSignupEmbeds":true,"prebidAnalytics":true,"extendedMostPopular":true,"ampContentAbTesting":false,"prebidCriteo":true,"okta":true,"imrWorldwide":true,"acast":true,"twitterUwt":true,"abAuxiaSignInGate":false,"abDeferPermutiveLoad":true,"prebidAppnexusInvcode":true,"ampPrebidPubmatic":false,"a9HeaderBidding":true,"prebidAppnexus":true,"enableDiscussionSwitch":true,"prebidXaxis":true,"stickyVideos":true,"interactiveFullHeaderSwitch":true,"discussionAllPageSize":true,"prebidUserSync":true,"audioOnwardJourneySwitch":true,"abMovePermutiveSegmentation":false,"brazeTaylorReport":false,"externalVideoEmbeds":true,"abTheTradeDesk":true,"callouts":true,"sentinelLogger":true,"geoMostPopular":true,"weAreHiring":false,"relatedContent":true,"thirdPartyEmbedTracking":true,"prebidOzone":true,"ampLiveblogSwitch":false,"ampAmazon":false,"prebidAdYouLike":true,"mostViewedFronts":true,"optOutAdvertising":true,"abSignInGateMainControl":true,"googleSearch":true,"abOptOutFrequencyCap":true,"brazeSwitch":true,"prebidKargo":true,"consentManagement":true,"idProfileNavigation":true,"confiantAdVerification":true,"discussionAllowAnonymousRecommendsSwitch":false,"dcrCrosswords":true,"absoluteServerTimes":false,"permutive":true,"comscore":true,"ampPrebidCriteo":false,"prebidTheTradeDesk":true,"loopVideoTest":false,"newsletterOnwards":false,"youtubeIma":true,"webFonts":true,"liveBlogTopSponsorship":true,"abAdBlockAsk":false,"ophan":true,"crosswordSvgThumbnails":true,"prebidTriplelift":true,"prebidPubmatic":true,"serverShareCounts":false,"autoRefresh":true,"enhanceTweets":true,"prebidIndexExchange":true,"prebidOpenx":true,"prebidHeaderBidding":true,"idCookieRefresh":true,"discussionPageSize":true,"smartAppBanner":false,"historyTags":true,"brazeContentCards":true,"remoteBanner":true,"emailSignupRecaptcha":true,"prebidSmart":true,"shouldLoadGoogletag":true,"inizio":true,"europeBetaFront":true},"abTests":{},"googletagUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","stage":"PROD","frontendAssetsFullURL":"https://assets.guim.co.uk/","ampIframeUrl":"https://assets.guim.co.uk/data/vendor/2533d5cb94302889e6a8f1b24b5329e7/amp-iframe.html","tones":"","facebookIaAdUnitRoot":"facebook-instant-articles","avatarApiUrl":"https://avatar.theguardian.com","isSplash":false,"isColumn":false,"membershipUrl":"https://membership.theguardian.com","headline":"Using Scala string interpolation to protect logged data","isImmersive":false,"author":"John Duffell,Jacob Winch","ipsosTag":"guardian","isProd":true,"series":"Engineering blog","toneIds":"","membershipAccess":"","allowUserGeneratedContent":false,"commissioningDesks":"","webPublicationDate":1538138622000,"forecastsapiurl":"/weatherapi/forecast","supportUrl":"https://support.theguardian.com","isNumberedList":false,"commercialBundleUrl":"https://assets.guim.co.uk/commercial/47e59a6f2531251d895a/graun.standalone.commercial.js","idOAuthUrl":"https://oauth.theguardian.com","webTitle":"Using Scala string interpolation to protect logged data","isPhotoEssay":false,"idWebAppUrl":"https://oauth.theguardian.com","a9PublisherId":"3722","isFront":false,"inBodyInternalLinkCount":0,"googleSearchUrl":"//www.google.co.uk/cse/cse.js","inBodyExternalLinkCount":3,"showRelatedContent":true,"lightboxImages":{"id":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","headline":"Using Scala string interpolation to protect logged data","shouldHideAdverts":false,"standfirst":"<p>If you want to debug your code, you need comprehensive logging. But when you want to reuse the logs for alerting, how do you protect data from access by the alerting system? </p>","images":[{"caption":"A destroyed hard disk previously containing sensitive data","credit":"Photograph: Nicole Lacourse/The Guardian","displayCredit":true,"src":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=700&quality=85&auto=format&fit=max&s=d32194403c0cbbd1783d46478f2a02da","srcsets":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1920&quality=85&auto=format&fit=max&s=5ba0d65baf5afdca85aa87721f648b80 1920w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1225&quality=85&auto=format&fit=max&s=a01f47f45ebdc9d252e5305b52ee3f9a 1225w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=1065&quality=85&auto=format&fit=max&s=6614231f0197c4e68cc03106b1825b9f 1065w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=965&quality=85&auto=format&fit=max&s=bcc8224e1637368b6045c6d9932a4037 965w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=725&quality=85&auto=format&fit=max&s=22204eb772ce339b1e33d8d00af1050b 725w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=645&quality=85&auto=format&fit=max&s=dc1656a50feb4d0085db01fd679716d8 645w, https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/master/3126.jpg?width=465&quality=85&auto=format&fit=max&s=60fb51846063defb2a6340c542b2a7f3 465w","sizes":"(min-width: 1300px) 1920px, (min-width: 1140px) 1225px, (min-width: 980px) 1065px, (min-width: 740px) 965px, (min-width: 660px) 725px, (min-width: 480px) 645px, 465px","ratio":1.6672,"role":"None","parentContentId":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","id":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"}]},"googleSearchId":"007466294097402385199:m2ealvuxh1i","shouldHideReaderRevenue":false,"idUrl":"https://profile.theguardian.com","hasSurveyAd":false,"omnitureAmpAccount":"guardiangu-thirdpartyapps","dfpAdUnitRoot":"theguardian.com","host":"https://www.theguardian.com","blogIds":"","sectionName":"Info","hasMultipleVideosInPage":false,"hasShowcaseMainElement":false,"googleRecaptchaSiteKey":"6LdzlmsdAAAAALFH63cBVagSFPuuHXQ9OfpIDdMc","fbAppId":"180444840287","isContent":true,"shortUrlId":"/p/863gb","dfpAccountId":"59666047","plistaPublicApiKey":"462925f4f131001fd974bebe","wordCount":729,"hasLiveBlogTopAd":false,"dcrSentryDsn":"https://1937ab71c8804b2b8438178dfdd6468f@sentry.io/1377847","cardStyle":"news","adUnit":"/59666047/theguardian.com/info/article/ng","discussionApiUrl":"https://discussion.theguardian.com/discussion-api","isSensitive":false,"ophanEmbedJsUrl":"//j.ophan.co.uk/ophan.embed","edition":"UK","brazeApiKey":"7f28c639-8bda-48ff-a3f6-24345abfc07c","blogs":"","discussionApiClientHeader":"nextgen","section":"info","userAttributesApiUrl":"https://members-data-api.theguardian.com/user-attributes","videoDuration":0,"dfpHost":"pubads.g.doubleclick.net","weatherapiurl":"/weatherapi/city","sentryPublicApiKey":"344003a8d11c41d8800fbad8383fdc50","shortUrl":"https://www.theguardian.com/p/863gb","thumbnail":"https://i.guim.co.uk/img/media/69547e1fd28ced43efe282b954541c2d57eacd37/0_109_3126_1875/500.jpg?quality=85&auto=format&fit=max&s=9145d3229e79bd8276039d34ed04158a","pillar":"News","pageId":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","references":[],"beaconUrl":"//phar.gu-web.net","commentable":true,"discussionD2Uid":"zHoBy6HNKsk","ophanJsUrl":"//j.ophan.co.uk/ophan.ng","contributorBio":"","keywordIds":"info/info","contentType":"Article","isDev":false,"isHosted":false,"isAdFree":false,"stripePublicToken":"pk_live_2O6zPMHXNs2AGea4bAmq5R7Z","omnitureAccount":"guardiangu-network","locationapiurl":"/weatherapi/locations?query=","authorIds":"profile/john-duffell,profile/jacob-winch","isPaidContent":false,"hasYouTubeAtom":false,"externalEmbedHost":"https://embed.theguardian.com","thirdPartyAppsAccount":"guardiangu-thirdpartyapps","ajaxUrl":"https://api.nextgen.guardianapps.co.uk","byline":"John Duffell and Jacob Winch","keywords":"Information","contentId":"info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data","nonKeywordTagIds":"info/series/engineering-blog,type/article,profile/john-duffell,profile/jacob-winch","mobileAppsAdUnitRoot":"beta-guardian-app","hasPageSkin":false,"requiresMembershipAccess":false,"seriesTags":"Engineering blog","revisionNumber":"DEV","seriesId":"info/series/engineering-blog","optimizeEpicUrl":"https://support.theguardian.com/epic/control/index.html","assetsPath":"https://assets.guim.co.uk/","mmaUrl":"https://manage.theguardian.com","isLive":false,"richLink":"","campaigns":[],"isLiveBlog":false,"pageCode":"4372256","avatarImagesUrl":"https://avatar.guim.co.uk","publication":"theguardian.com","sentryHost":"app.getsentry.com/35463","buildNumber":"DEV","userBenefitsApiUrl":"https://user-benefits.guardianapis.com/benefits/me","sharedAdTargeting":{"se":["engineering-blog"],"ct":"article","su":["0"],"edition":"uk","p":"ng","k":["info"],"sh":"https://www.theguardian.com/p/863gb","co":["john-duffell","jacob-winch"],"url":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},"onwardWebSocket":"ws://api.nextgen.guardianapps.co.uk/recently-published","productionOffice":"Uk","shouldHideAdverts":false,"idApiUrl":"https://idapi.theguardian.com","pbIndexSites":[{"bp":"D","id":208247},{"bp":"M","id":213519},{"bp":"T","id":215454}],"googletagJsUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","calloutsUrl":"https://callouts.guardianapis.com/formstack-campaign/submit","isPreview":false},"guardianBaseURL":"https://www.theguardian.com","contentType":"Article","hasRelated":true,"hasStoryPackage":false,"beaconURL":"//phar.gu-web.net","isCommentable":true,"commercialProperties":{"US":{"adTargeting":[{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"edition","value":"us"},{"name":"sh","value":"https://www.theguardian.com/p/863gb"},{"name":"ct","value":"article"},{"name":"co","value":["john-duffell","jacob-winch"]},{"name":"url","value":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"AU":{"adTargeting":[{"name":"su","value":["0"]},{"name":"sh","value":"https://www.theguardian.com/p/863gb"},{"name":"ct","value":"article"},{"name":"co","value":["john-duffell","jacob-winch"]},{"name":"url","value":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"},{"name":"k","value":["info"]},{"name":"edition","value":"au"}]},"UK":{"adTargeting":[{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"edition","value":"uk"},{"name":"sh","value":"https://www.theguardian.com/p/863gb"},{"name":"ct","value":"article"},{"name":"co","value":["john-duffell","jacob-winch"]},{"name":"url","value":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"INT":{"adTargeting":[{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"sh","value":"https://www.theguardian.com/p/863gb"},{"name":"ct","value":"article"},{"name":"co","value":["john-duffell","jacob-winch"]},{"name":"url","value":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"name":"edition","value":"int"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"EUR":{"adTargeting":[{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"sh","value":"https://www.theguardian.com/p/863gb"},{"name":"ct","value":"article"},{"name":"co","value":["john-duffell","jacob-winch"]},{"name":"url","value":"/info/2018/sep/28/using-scala-string-interpolation-to-protect-logged-data"},{"name":"edition","value":"eur"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]}},"pageType":{"hasShowcaseMainElement":false,"isFront":false,"isLiveblog":false,"isMinuteArticle":false,"isPaidContent":false,"isPreview":false,"isSensitive":false},"trailText":"If you want to debug your code, you need comprehensive logging. But when you want to reuse the logs for alerting, how do you protect data from access by the alerting system? ","nav":{"currentUrl":"/info","pillars":[{"title":"News","url":"/","longTitle":"Headlines","iconName":"home","children":[{"title":"UK","url":"/uk-news","longTitle":"UK news","children":[{"title":"UK politics","url":"/politics"},{"title":"Education","url":"/education","children":[{"title":"Schools","url":"/education/schools"},{"title":"Teachers","url":"/teacher-network"},{"title":"Universities","url":"/education/universities"},{"title":"Students","url":"/education/students"}]},{"title":"Media","url":"/media"},{"title":"Society","url":"/society"},{"title":"Law","url":"/law"},{"title":"Scotland","url":"/uk/scotland"},{"title":"Wales","url":"/uk/wales"},{"title":"Northern Ireland","url":"/uk/northernireland"}]},{"title":"US politics","url":"/us-news/us-politics"},{"title":"World","url":"/world","longTitle":"World news","children":[{"title":"Europe","url":"/world/europe-news"},{"title":"US","url":"/us-news","longTitle":"US news"},{"title":"Americas","url":"/world/americas"},{"title":"Asia","url":"/world/asia"},{"title":"Australia","url":"/australia-news","longTitle":"Australia news"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Africa","url":"/world/africa"},{"title":"Inequality","url":"/inequality"},{"title":"Global development","url":"/global-development"}]},{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Ukraine","url":"/world/ukraine"},{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Business","url":"/business","children":[{"title":"Economics","url":"/business/economics"},{"title":"Banking","url":"/business/banking"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Markets","url":"/business/stock-markets"},{"title":"Project Syndicate","url":"/business/series/project-syndicate-economists"},{"title":"B2B","url":"/business-to-business"},{"title":"Retail","url":"/business/retail"}]},{"title":"Environment","url":"/environment","children":[{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Wildlife","url":"/environment/wildlife"},{"title":"Energy","url":"/environment/energy"},{"title":"Pollution","url":"/environment/pollution"}]},{"title":"UK politics","url":"/politics"},{"title":"Society","url":"/society"},{"title":"Science","url":"/science"},{"title":"Tech","url":"/technology"},{"title":"Global development","url":"/global-development"},{"title":"Obituaries","url":"/obituaries"}]},{"title":"Opinion","url":"/commentisfree","longTitle":"Opinion home","iconName":"home","children":[{"title":"The Guardian view","url":"/profile/editorial"},{"title":"Columnists","url":"/index/contributors"},{"title":"Cartoons","url":"/tone/cartoons"},{"title":"Opinion videos","url":"/type/video+tone/comment"},{"title":"Letters","url":"/tone/letters"}]},{"title":"Sport","url":"/sport","longTitle":"Sport home","iconName":"home","children":[{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Cricket","url":"/sport/cricket"},{"title":"Rugby union","url":"/sport/rugby-union"},{"title":"Tennis","url":"/sport/tennis"},{"title":"Cycling","url":"/sport/cycling"},{"title":"F1","url":"/sport/formulaone"},{"title":"Golf","url":"/sport/golf"},{"title":"Boxing","url":"/sport/boxing"},{"title":"Rugby league","url":"/sport/rugbyleague"},{"title":"Racing","url":"/sport/horse-racing"},{"title":"US sports","url":"/sport/us-sport"}]},{"title":"Culture","url":"/culture","longTitle":"Culture home","iconName":"home","children":[{"title":"Film","url":"/film"},{"title":"Music","url":"/music"},{"title":"TV & radio","url":"/tv-and-radio"},{"title":"Books","url":"/books"},{"title":"Art & design","url":"/artanddesign"},{"title":"Stage","url":"/stage"},{"title":"Games","url":"/games"},{"title":"Classical","url":"/music/classicalmusicandopera"}]},{"title":"Lifestyle","url":"/lifeandstyle","longTitle":"Lifestyle home","iconName":"home","children":[{"title":"The Filter","url":"/uk/thefilter"},{"title":"Fashion","url":"/fashion"},{"title":"Food","url":"/food"},{"title":"Recipes","url":"/tone/recipes"},{"title":"Travel","url":"/travel","children":[{"title":"UK","url":"/travel/uk"},{"title":"Europe","url":"/travel/europe"},{"title":"US","url":"/travel/usa"}]},{"title":"Health & fitness","url":"/lifeandstyle/health-and-wellbeing"},{"title":"Women","url":"/lifeandstyle/women"},{"title":"Men","url":"/lifeandstyle/men"},{"title":"Love & sex","url":"/lifeandstyle/love-and-sex"},{"title":"Beauty","url":"/fashion/beauty"},{"title":"Home & garden","url":"/lifeandstyle/home-and-garden"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Cars","url":"/technology/motoring"}]}],"otherLinks":[{"title":"The Guardian app","url":"https://app.adjust.com/16xt6hai"},{"title":"Video","url":"/video"},{"title":"Podcasts","url":"/podcasts"},{"title":"Pictures","url":"/inpictures"},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Today's paper","url":"/theguardian","children":[{"title":"Obituaries","url":"/obituaries"},{"title":"G2","url":"/theguardian/g2"},{"title":"Journal","url":"/theguardian/journal"},{"title":"Saturday","url":"/theguardian/saturday"}]},{"title":"Inside the Guardian","url":"https://www.theguardian.com/insidetheguardian"},{"title":"The Observer","url":"/observer","children":[{"title":"Comment","url":"/theobserver/news/comment"},{"title":"The New Review","url":"/theobserver/new-review"},{"title":"Observer Magazine","url":"/theobserver/magazine"},{"title":"Observer Food Monthly","url":"/theobserver/foodmonthly"}]},{"title":"Guardian Weekly","url":"https://www.theguardian.com/weekly?INTCMP=gdnwb_mawns_editorial_gweekly_GW_TopNav_UK"},{"title":"Crosswords","url":"/crosswords","children":[{"title":"Blog","url":"/crosswords/crossword-blog"},{"title":"Quick","url":"/crosswords/series/quick"},{"title":"Speedy","url":"/crosswords/series/speedy"},{"title":"Quick cryptic","url":"/crosswords/series/quick-cryptic"},{"title":"Everyman","url":"/crosswords/series/everyman"},{"title":"Quiptic","url":"/crosswords/series/quiptic"},{"title":"Cryptic","url":"/crosswords/series/cryptic"},{"title":"Prize","url":"/crosswords/series/prize"},{"title":"Azed","url":"/crosswords/series/azed"},{"title":"Genius","url":"/crosswords/series/genius"},{"title":"Weekend","url":"/crosswords/series/weekend-crossword"},{"title":"Special","url":"/crosswords/series/special"}]},{"title":"Wordiply","url":"https://www.wordiply.com"},{"title":"Corrections","url":"/theguardian/series/corrections-and-clarifications"}],"brandExtensions":[{"title":"Search jobs","url":"https://jobs.theguardian.com"},{"title":"Hire with Guardian Jobs","url":"https://recruiters.theguardian.com/?utm_source=gdnwb&utm_medium=navbar&utm_campaign=Guardian_Navbar_Recruiters&CMP_TU=trdmkt&CMP_BUNIT=jobs"},{"title":"Holidays","url":"https://holidays.theguardian.com?INTCMP=holidays_uk_web_newheader"},{"title":"Live events","url":"https://www.theguardian.com/guardian-live-events?INTCMP=live_uk_header_dropdown"},{"title":"About Us","url":"/about"},{"title":"Digital Archive","url":"https://theguardian.newspapers.com"},{"title":"Guardian Print Shop","url":"/artanddesign/series/gnm-print-sales"},{"title":"Patrons","url":"https://patrons.theguardian.com/?INTCMP=header_patrons"},{"title":"Guardian Licensing","url":"https://licensing.theguardian.com/"}],"readerRevenueLinks":{"header":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"footer":{"contribute":"https://support.theguardian.com/contribute?INTCMP=footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_supporter_cta%22%7D"},"sideMenu":{"contribute":"https://support.theguardian.com/contribute?INTCMP=side_menu_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=side_menu_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=side_menu_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=mobilenav_print_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22mobilenav_print_cta%22%7D"},"ampHeader":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=amp_header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22amp_header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"ampFooter":{"contribute":"https://support.theguardian.com/contribute?INTCMP=amp_footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_supporter_cta%22%7D"}}},"showBottomSocialButtons":true,"pageFooter":{"footerLinks":[[{"text":"About us","url":"/about","dataLinkName":"uk : footer : about us","extraClasses":""},{"text":"Help","url":"https://manage.theguardian.com/help-centre","dataLinkName":"uk : footer : tech feedback","extraClasses":"js-tech-feedback-report"},{"text":"Complaints & corrections","url":"/info/complaints-and-corrections","dataLinkName":"complaints","extraClasses":""},{"text":"SecureDrop","url":"https://www.theguardian.com/securedrop","dataLinkName":"securedrop","extraClasses":""},{"text":"Work for us","url":"https://workforus.theguardian.com","dataLinkName":"uk : footer : work for us","extraClasses":""},{"text":"Privacy policy","url":"/info/privacy","dataLinkName":"privacy","extraClasses":""},{"text":"Cookie policy","url":"/info/cookies","dataLinkName":"cookie","extraClasses":""},{"text":"Terms & conditions","url":"/help/terms-of-service","dataLinkName":"terms","extraClasses":""},{"text":"Contact us","url":"/help/contact-us","dataLinkName":"uk : footer : contact us","extraClasses":""}],[{"text":"All topics","url":"/index/subjects/a","dataLinkName":"uk : footer : all topics","extraClasses":""},{"text":"All writers","url":"/index/contributors","dataLinkName":"uk : footer : all contributors","extraClasses":""},{"text":"Modern Slavery Act","url":"https://uploads.guim.co.uk/2024/09/04/Modern_Slavery_Statement_2024_.pdf","dataLinkName":"uk : footer : modern slavery act statement","extraClasses":""},{"text":"Tax strategy","url":"https://uploads.guim.co.uk/2024/08/27/TAX_STRATEGY_FOR_THE_YEAR_ENDED_31_MARCH_2025.pdf","dataLinkName":"uk : footer : tax strategy","extraClasses":""},{"text":"Digital newspaper archive","url":"https://theguardian.newspapers.com","dataLinkName":"digital newspaper archive","extraClasses":""},{"text":"Facebook","url":"https://www.facebook.com/theguardian","dataLinkName":"uk : footer : facebook","extraClasses":""},{"text":"YouTube","url":"https://www.youtube.com/user/TheGuardian","dataLinkName":"uk : footer : youtube","extraClasses":""},{"text":"Instagram","url":"https://www.instagram.com/guardian","dataLinkName":"uk : footer : instagram","extraClasses":""},{"text":"LinkedIn","url":"https://www.linkedin.com/company/theguardian","dataLinkName":"uk : footer : linkedin","extraClasses":""},{"text":"Newsletters","url":"/email-newsletters?INTCMP=DOTCOM_FOOTER_NEWSLETTER_UK","dataLinkName":"uk : footer : newsletters","extraClasses":""}],[{"text":"Advertise with us","url":"https://advertising.theguardian.com","dataLinkName":"uk : footer : advertise with us","extraClasses":""},{"text":"Guardian Labs","url":"/guardian-labs","dataLinkName":"uk : footer : guardian labs","extraClasses":""},{"text":"Search jobs","url":"https://jobs.theguardian.com","dataLinkName":"uk : footer : jobs","extraClasses":""},{"text":"Patrons","url":"https://patrons.theguardian.com?INTCMP=footer_patrons","dataLinkName":"uk : footer : patrons","extraClasses":""}]]},"publication":"theguardian.com","shouldHideReaderRevenue":false,"slotMachineFlags":"","contributionsServiceUrl":"https://contributions.guardianapis.com","isSpecialReport":false,"showTableOfContents":false,"lang":"en","isRightToLeftLang":false}