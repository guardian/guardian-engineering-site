{"version":3,"headline":"Revisiting the rendering tier","standfirst":"<p>From 62,783 lines of Sass to CSS-in-JS. Introducing the new server rendering layer for theguardian.com</p>","webTitle":"Revisiting the rendering tier","mainMediaElements":[{"displayCredit":true,"_type":"model.dotcomrendering.pageElements.ImageBlockElement","role":"inline","media":{"allImages":[{"index":0,"fields":{"height":"95","width":"140"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/140.jpg"},{"index":1,"fields":{"height":"341","width":"500"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/500.jpg"},{"index":2,"fields":{"height":"682","width":"1000"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/1000.jpg"},{"index":3,"fields":{"height":"1363","width":"2000"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/2000.jpg"},{"index":4,"fields":{"height":"2386","width":"3500"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/3500.jpg"},{"index":5,"fields":{"isMaster":"true","height":"2386","width":"3500"},"mediaType":"Image","mimeType":"image/jpeg","url":"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg"}]},"elementId":"1ef1a3bf-b7e0-4538-aa04-7fb62c2febe5","imageSources":[{"weighting":"inline","srcSet":[{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=620&quality=85&auto=format&fit=max&s=e3cbcd8ae4163e8e78449a7634eb4399","width":620},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=710153c9b06f535543a48dad2b667600","width":1240},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=85&auto=format&fit=max&s=d35a04feb258846bfeace5d03f12ebdf","width":700},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=7c49592295182f2479d4112d99b9460e","width":1400},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=620&quality=85&auto=format&fit=max&s=e3cbcd8ae4163e8e78449a7634eb4399","width":620},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=620&quality=45&auto=format&fit=max&dpr=2&s=710153c9b06f535543a48dad2b667600","width":1240},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=645&quality=85&auto=format&fit=max&s=9b897df4586228f578e01e1cfa758edc","width":645},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=c9120f2fb7ce16f51e6dca98973220ad","width":1290},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=465&quality=85&auto=format&fit=max&s=8720a44ba54fea5ee0ae58d19bb7a1f4","width":465},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=57c60927360b57a8333558e7fe482b88","width":930}]},{"weighting":"thumbnail","srcSet":[]},{"weighting":"supporting","srcSet":[]},{"weighting":"showcase","srcSet":[{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1020&quality=85&auto=format&fit=max&s=1b0f1e0f1484613c605f043f2603c0f2","width":1020},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1020&quality=45&auto=format&fit=max&dpr=2&s=a1368bdf1634f5652d19fdba3c9140de","width":2040},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=940&quality=85&auto=format&fit=max&s=cbf145fff36c7c370c1695ed80ef1312","width":940},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=940&quality=45&auto=format&fit=max&dpr=2&s=692a8fe0f34cbe66edb894cf4969ef7c","width":1880},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=85&auto=format&fit=max&s=d35a04feb258846bfeace5d03f12ebdf","width":700},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=7c49592295182f2479d4112d99b9460e","width":1400},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=85&auto=format&fit=max&s=d35a04feb258846bfeace5d03f12ebdf","width":700},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=45&auto=format&fit=max&dpr=2&s=7c49592295182f2479d4112d99b9460e","width":1400},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=660&quality=85&auto=format&fit=max&s=a8f09d44878c588351219dcd5417d5f9","width":660},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=68fc18cc2af196f88d688b894d10c79b","width":1320},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=645&quality=85&auto=format&fit=max&s=9b897df4586228f578e01e1cfa758edc","width":645},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=645&quality=45&auto=format&fit=max&dpr=2&s=c9120f2fb7ce16f51e6dca98973220ad","width":1290},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=465&quality=85&auto=format&fit=max&s=8720a44ba54fea5ee0ae58d19bb7a1f4","width":465},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=465&quality=45&auto=format&fit=max&dpr=2&s=57c60927360b57a8333558e7fe482b88","width":930}]},{"weighting":"halfwidth","srcSet":[]},{"weighting":"immersive","srcSet":[{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1900&quality=85&auto=format&fit=max&s=385e0a4a756cce06060fccc9391e41b7","width":1900},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1900&quality=45&auto=format&fit=max&dpr=2&s=452f056272dde81f9799e5728d8b170f","width":3800},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1300&quality=85&auto=format&fit=max&s=748a14707b90546ce04ca17188c362da","width":1300},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1300&quality=45&auto=format&fit=max&dpr=2&s=ce9d9c06f701ced4aed57c8e7ee234a5","width":2600},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1140&quality=85&auto=format&fit=max&s=4284b33ca69973057ddbbe7fbc22291b","width":1140},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1140&quality=45&auto=format&fit=max&dpr=2&s=477eac770b2657f159a5d55aecd170e1","width":2280},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=980&quality=85&auto=format&fit=max&s=e03862d9a635d8f17f07a1aa1b6c5f74","width":980},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=980&quality=45&auto=format&fit=max&dpr=2&s=09047a9e0cb233d4a676db727aa4629e","width":1960},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=740&quality=85&auto=format&fit=max&s=8e319d7da63f5e6e329ed335e9f47a9a","width":740},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=740&quality=45&auto=format&fit=max&dpr=2&s=dfdd82b7b6a9cd4bc9aada3465e7360a","width":1480},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=660&quality=85&auto=format&fit=max&s=a8f09d44878c588351219dcd5417d5f9","width":660},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=660&quality=45&auto=format&fit=max&dpr=2&s=68fc18cc2af196f88d688b894d10c79b","width":1320},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=480&quality=85&auto=format&fit=max&s=524ec57fce54e63cb9c257e7526c02c2","width":480},{"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=480&quality=45&auto=format&fit=max&dpr=2&s=e3195cdbdaefb2ee1e90b01440adc9de","width":960}]}],"data":{"alt":"A road leading into the distance in some mountains.","caption":"The road to a better developer experience is long and winding. ","credit":"Photograph: Arnd Wiegmann/Reuters"}}],"main":"<figure class=\"element element-image\" data-media-id=\"cefa091c09fbfe19dc3f19d0c3a53da592846779\"> \n <img src=\"https://media.guim.co.uk/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/1000.jpg\" alt=\"A road leading into the distance in some mountains.\" width=\"1000\" height=\"682\" class=\"gu-image\"> \n <figcaption> <span class=\"element-image__caption\">The road to a better developer experience is long and winding. </span> <span class=\"element-image__credit\">Photograph: Arnd Wiegmann/Reuters</span> \n </figcaption> \n</figure>","filterKeyEvents":false,"keyEvents":[],"blocks":[{"id":"5c18dd4ce4b08a19177b16c3","elements":[{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The 2019 incarnation of <a href=\"https://www.theguardian.com/uk\">theguardian.com</a> began life around six years ago, starting out as an m-dot and gradually scaling up both its breakpoints and page views until it rendered the entire site.</p>","elementId":"224b7fe4-2429-48ee-9e1a-4ec342b47ac3"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>At the time of writing, it has gone from 0 to 62,783 lines of Sass. That Sass generates tens of thousands of rules that are intended to describe a maintainable set of responses to business and design problems.</p>","elementId":"7df040aa-e6b1-49f1-b20c-e8b0e9b522e0"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Individually, they represent half a decade’s considered decisions made by skilful and dedicated engineers.</p>","elementId":"0a9366bf-1830-4e32-be64-54fcaadd1c80"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In sum, though, they present a precarious, teetering, maintenance nightmare.</p>","elementId":"de6f6bf4-a1c4-408c-a348-bba441f225a3"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In what way? For one, it is significantly easier to add new CSS than to edit or delete it.</p>","elementId":"69260c2a-cd18-4f46-8faf-591a47306f4d"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Secondly, it has become unclear how you should approach making edits.</p>","elementId":"79970a55-209c-42e9-91c6-6b12908fdec0"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Some of our selectors are utilities that describe presentation (e.g. <em>.hide-on-mobile</em>) and others describe features (e.g. <em>.facia-card</em>). When a new feature is introduced that derives its visual style from an existing feature, there are multiple approaches you could copy from: for example should you reuse existing rules or should you duplicate them?</p>","elementId":"6fe55d50-9b67-4a3c-9c05-5c1ce9105e4f"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Both approaches are in the code base, and both have their drawbacks.</p>","elementId":"bca8aa43-2561-4d81-9bc9-8d44b5b2efc4"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>If you reuse something, you will end up having to override parts of it to capture any differences and be bound to any (potentially unwitting) updates to the original.</p>","elementId":"03859d12-bd97-40b0-9117-bb1ac2fc905e"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>If you duplicate something, you will not inherit any updates to the original that you <em>did</em> want, and the page becomes heavier: it takes longer and costs the reader more to download, the render tree takes longer to generate and the CSSOM takes up more memory.</p>","elementId":"7f106a34-3516-4f10-8191-c4548b50772e"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>You could extract the commonalities into new utility selectors, but then suppose someone else needs to borrow aspects of the look for an unrelated new feature and they decide to duplicate one of the previous two instances, to keep their feature safe from unrelated updates. When the original feature needs a design tweak, all three are out of sync, and the second is also now (probably) broken.</p>","elementId":"ad8ac727-cdc1-4b65-9e4d-2b4da2091ee7"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>At this point, you are certain that whatever you do, you cannot delete any of it, because no one can really understand how everything interrelates. In order to avoid breaking anything, you would need to know all features on the site, how they <em>should</em> look and how they <em>will</em> look following your change.</p>","elementId":"734b77ed-2184-464c-a465-7dd646544eef"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>You <em>do</em> know, however, that if you add some new rules, guarded by their BEM selectors, you (probably) will not break anything and nothing will break you, so that becomes the easiest thing to do.</p>","elementId":"db928c7f-a1ad-485b-ba0b-05bba379bb62"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>This is pretty much where we are now.</p>","elementId":"5a2c5983-a81e-45b6-bc99-d6f4d93a62ce"},{"_type":"model.dotcomrendering.pageElements.GuideAtomBlockElement","label":"Quick Guide","credit":"","id":"cfee56d3-053e-46e7-9d03-ec0704b3d476","elementId":"f54f2e90-7e8b-42b9-93c1-2c96b2a3e663","title":"How do I join The Guardian Product & Engineering?","html":"<p><strong>Where can I find open positions?</strong></p><p>Apply for one of our open positions <a href=\"https://workforus.theguardian.com/careers/product-engineering\">here</a>.</p><p><strong>What can I expect from the interview process?</strong></p><p>We aim to be as fair and transparent as possible in our hiring process. Similar to other organisations, there is a CV screening, coding exercise and a face to face interview. Read more about what to expect and apply now <a href=\"https://www.theguardian.com/info/2019/apr/26/applying-to-the-guardians-digital-department\">here</a>, and read more about our department <a href=\"https://theguardian.engineering/\">here</a>.</p>"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>To compound this, as the CSS has become more and more thorny, the appetite for features and experiment across the Guardian has grown. These are largely managed by teams devoted to quarter-length OKRs who need to iterate rapidly and safely.</p>","elementId":"5d022908-a841-4232-a2c2-c3d8c6f50972"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>A complex system of styling that ultimately is only safe if you add to it cannot sustain this. It leads to poor performance on our readers devices, which ultimately devalues both their reading experience and the journalism, and is unpleasant to develop.</p>","elementId":"8039de1d-ae59-4305-841d-1fdb18ae05ec"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>So what now?</h2>","elementId":"020a1cf2-ef11-4e07-9349-f326a6857204"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>To address this, and avoid ending up back here in a few years time, we need to understand how we got here in the first place.</p>","elementId":"608df511-e6e1-4081-b66e-add08dc932cf"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>When it was conceived, the existing site was built by around ten developers using state of the art tooling and techniques (one developer was even dedicated to maintaining an internal CSS framework and took a special interest in changes that made use of it).</p>","elementId":"bc79aa8d-8a01-4032-ac0f-437acc63550d"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>As engineering focus shifted from creating a website to iterating aspects of it, the number of people touching the code and the breadth of their changes swelled. It is no longer feasible for one person to act as gatekeeper. With six years of developer turnover, it has also become harder and harder to understand the context of your change in the wider codebase: what can you do? what have other people done? what should you do?</p>","elementId":"3dbd1ec7-d95d-4db7-9bc7-1b3fdfb625c1"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>As time goes by, these questions become harder and harder to answer, and the reason for that is their answers are based on <em>conventions</em>.</p>","elementId":"8a0c9c48-1718-4be9-a778-c4caec34396d"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>The problem with Convention</h2>","elementId":"52330435-968c-4b54-a314-4d9aacb56c26"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Systems that try to contain complexity over long periods of time by convention will inevitably tend toward entropy, because one significant characteristic of convention is that it is trivially simple to break one.</p>","elementId":"a13306f3-dfef-4899-9d2f-dcd1d6ccdab9"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>You do not even need to be malicious. A convention is not <a href=\"https://github.com/guardian/frontend#core-development-principles-lines-in-the-sand\">a line in the sand</a>. You can have a very good case for breaking or stretching one, but once a convention is no longer fully observed, subsequent cases for breaking or stretching it are automatically stronger, because the convention is already weakened. The more this happens, the weaker it gets.</p>","elementId":"384595e4-39e2-4465-8a78-41e0e20fc225"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In our case, the conventions that were in place to encourage simplicity became hazy. For example, our Sass is meant to follow to BEM, but in instances where the design requirements would create too many selectors, it defaults back to the cascade.</p>","elementId":"75a8dd50-25df-44dd-807f-adcfb673c595"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>At the same time, any edits are assumed to be sympathetic to performance, because that has long been another convention. But an OKR team dedicated to moving a revenue metric might reasonably justify privileging conversions over page speed or longer-term development, especially if the feature is short-lived or the trade-off is small.</p>","elementId":"25b2032d-a6cf-4d1b-930a-dde8f1806cfb"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The consequence of our reliance on convention to manage this is that our Sass has become too hard to work with, and CSS too big to send down the wire.</p>","elementId":"fe6ef154-dd6e-42c5-8ab7-e2ce53101113"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>What could we do?</h2>","elementId":"9b915f37-b159-4347-b416-fd0b8c9cf7be"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>We could deal with the Sass by being stricter about our adherence to BEM, effectively working in a hyper-modular style, implementing extremely strict coupling of selectors to DOM elements i.e. thinking in components. This would mean you could be sure that your edits affected only the elements you knew your selectors targeted, and you could also know that if you deleted a template you could delete the relevant Sass.</p>","elementId":"a1520167-ed5d-4dc6-91cc-7f2ce4e506c5"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>This would resolve maintainability at the expense of performance: the amount of duplication and number of selectors would rocket.</p>","elementId":"0dd82c6e-6fdb-41ba-8e4b-2e4796d280ea"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Around the time we first started looking at this, atomic CSS frameworks started to appear. Approaches like Yahoo’s <a href=\"https://acss.io/\">Atomic CSS</a> and Adam Morse’s <a href=\"https://tachyons.io/\">Tachyons</a> mean you can be sure the CSS you ship to your user will be very, very small, almost as small as it could possibly be.</p>","elementId":"5f37a5f0-c8b6-4e8f-8e99-7cfdd4917f73"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Since they require you to style elements themselves, rather than create rules that apply to elements, they make maintenance much easier too. Presentation is directly coupled to content – if you update or delete a template, nothing else is affected. In the case of Atomic CSS, unused declarations will not even be generated.</p>","elementId":"bc535652-7d26-47db-9f36-d9c473364387"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Both these approaches were very appealing, but very hard for us to adopt with our existing stack. Our HTML is generated by Twirl templates in Play, which is written in Scala. This means Atomic CSS, which manages your templates with Node, would be very difficult to install.</p>","elementId":"f7661f21-a5eb-440f-86c4-0ae67ce51890"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>At the same time, the Scala in Play is compiled to Java binaries. While this means Play is very fast in production, editing a template in development requires some recompilation before you can see the change, often taking up to ten seconds. Using a system like Tachyons, which requires you to style your elements directly using the class attribute, would be incredibly slow for us.</p>","elementId":"3768ca1c-78cc-413f-a169-3d0030df11c2"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Both of these would also require a total rewrite of our templates, and the imposition of a new development style. If we could find a way to apply the thinking in the atomic approaches to a hyper-modular style of writing Sass, we could retain the familiarity of the stack while fixing the problems.</p>","elementId":"03083bc0-dcad-4688-9dfe-34ccb36ed54e"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>False start</h2>","elementId":"9e9adb91-2584-4e33-a602-ad44d0b11db0"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Looking through our various stylesheets and thinking about the atomic approach, it occurred to us that all of our shipping CSS must be reducible to a set of unique declarations.</p>","elementId":"80ba16b6-317c-47dd-8715-0b8fda846664"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>If we could have recreated the site by replacing our Sass with a set of pre-existing functional classes (Tachyons-style), then we ought to be able to modify the Atomic CSS approach such that we could keep our existing Sass, rewrite it in part to <em>require</em> duplication (and so make edits safe) but analyse the resulting stylesheets and selector usage during the production build process to reduce that duplication to single-use utility classes?</p>","elementId":"e45f7409-aec8-4cec-8954-5a4c42a1d31f"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In development we could just serve an enormous stylesheet, meaning no Scala recompilation and keeping the existing live Sass recompilation and dev tools pipeline.</p>","elementId":"c1822b0f-100c-406b-8d22-b2a5f11f28e9"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>Then in production, we ought to be able to ‘atomise’ our CSS to unique instances of declarations during compilation, build a map from the original rules to the unique ones, and use that in the Twirl templates at the point we write out the class attribute.</p>","elementId":"2fa0472e-444b-4c0d-a397-b71a2a7b394e"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>We created an <a href=\"https://sndrs.github.io/atomised-css-repl\">‘atomised CSS’ postcss plugin</a> that would take a normal stylesheet and return an atomised one, and a method for using that map in the Twirl templates, and for a while shipped <a href=\"https://github.com/guardian/frontend/pull/13549\">a tiny instance of it</a> in production.</p>","elementId":"57888dfb-3dfd-4e3a-af51-b2e9e0ff7ff0"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>It was designed so that any selectors which could not be atomised (anything which is not a single class, basically) would pass straight through, so <em>in theory</em> we should have been able to add it without making any changes to the Sass, getting the benefits where immediately possible and being to able to gradually remove all the more complex selectors till everything was atomised.</p>","elementId":"e61b9c0e-4fdb-4b34-ba7d-202368341d86"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The ‘in theory’ bit was the scary part! This technique meant <em>completely</em> re-writing the stylesheet long after the last developer had touched the source code. In order to ship that with confidence, we would need to write a test suite that compared the effects of the original to the atomised stylesheets, on a DOM that captured a control and variant for each possible path in the original. That is not an impossible task, but at the point we started to write that, we really had to ask ourselves if this was the smartest approach!</p>","elementId":"bb6836c5-1861-4f11-a198-4bbcda6a035d"},{"_type":"model.dotcomrendering.pageElements.SubheadingBlockElement","html":"<h2>CSS in JS</h2>","elementId":"0e6ada49-554d-4881-a3a9-bb8a74648ab3"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>We knew these problems were already being solved, by more and smarter people, in JavaScript land, but we were still working with a model where the DOM, CSS and JS all exist autonomously. At no point in their lifecycles is either aware of the other. The DOM is the source of truth when it comes to the content (everything is server-rendered) but the intentions expressed in the CSS and JS are only realised if <em>their</em> assumptions about the DOM are correct.</p>","elementId":"319da36d-7643-47ab-844b-d27e80ea9daa"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>That is, in this way of working, the DOM, CSS and JS all interoperate entirely by <em>contract</em>. Which is to say, an acknowledgement that the humans who write the code will maintain certain conventions:</p>","elementId":"ab9bfb80-6865-42ef-88e9-e8a22e29e2fd"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<ul>\n <li>\n  <p>the DOM must provide hooks for the JS, which must encounter a DOM it understands</p></li>\n <li>\n  <p>the JS might patch the DOM to reflect a new state, but that needs to be in a way that the CSS can style</p></li>\n <li>\n  <p>the CSS must be able to accommodate whatever DOM it encounters</p></li>\n</ul>","elementId":"f47752f4-47a2-4d69-bcad-0117b5fba037"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>As we saw earlier, this means updates to the site need to understand the technical context of each edit, not just how they resolve a domain problem.</p>","elementId":"2a0567a4-771c-42ca-90e2-1a3e433fc799"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In turn, this makes updates more complicated to complete and increases the likelihood of bugs going to production.</p>","elementId":"f2193d6a-827e-4bb4-96c4-54624f5d7489"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>More importantly for us, since the processes which generate our CSS and HTML understand nothing about each other, any optimisations like isolating critical CSS are at best error-prone and at worst impossible.</p>","elementId":"49cdcb9a-00ab-4e13-816c-9a84fb1fcb42"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>The beauty of the work being done on the various CSS-in-JS frameworks is that the<em> </em>JS takes over managing the DOM <em>and</em> the CSS on both the client and the server.</p>","elementId":"51c3c1d1-aa0e-45bd-8f8c-256c2aeed982"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>It is a completely different way of thinking: instead of writing code for the <em>browser</em> to interpret, you write code that tells your <em>framework</em> how you want things to look behave, and <em>it</em> takes care of generating the code for the browser for you.</p>","elementId":"25725cc3-bd36-4598-88ff-db74969be904"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>In this way of working, the codebase starts to become a more human-oriented description of how you want to solve domain problems, not a browser-oriented one. By abstracting browser-level code away, it becomes easier for a developer to do the right thing rather than the wrong thing. The architecture, and our performance and maintainability requirements, are managed by the framework, not the engineer.</p>","elementId":"edc1c0ab-aca4-4420-9df1-b64973afc230"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>So that is what we are doing. After a lot of trialing we have settled (for now at least) on <a href=\"https://github.com/guardian/dotcom-rendering\">moving our rendering tier to React and Emotion</a>. This will doubtless generate a <em>new</em> set of challenges, but we expect that they should at least solve the set we have right now.</p>","elementId":"eab6445c-459d-41c5-a0e4-cfd6f6f7331e"},{"_type":"model.dotcomrendering.pageElements.TextBlockElement","html":"<p>There are other blog posts to be written on how we settled on these two; how we will fit it into the stack; and how we’ve progressed since we started this project.</p>","elementId":"eb22d1a1-6f79-46fa-a816-d1eaec1dc6e4"}],"attributes":{"pinned":false,"keyEvent":false,"summary":false},"blockCreatedOn":1554371053000,"blockCreatedOnDisplay":"10.44 BST","blockLastUpdated":1560588820000,"blockLastUpdatedDisplay":"09.53 BST","blockFirstPublished":1554371053000,"blockFirstPublishedDisplay":"10.44 BST","blockFirstPublishedDisplayNoTimezone":"10.44","contributors":[],"primaryDateLine":"Thu 4 Apr 2019 10.44 BST","secondaryDateLine":"Last modified on Thu 12 Nov 2020 16.31 GMT"}],"author":{"byline":"Alex Sanders"},"byline":"Alex Sanders","webPublicationDate":"2019-04-04T09:44:13.000Z","webPublicationDateDeprecated":"2019-04-04T09:44:13.000Z","webPublicationDateDisplay":"Thu 4 Apr 2019 10.44 BST","webPublicationSecondaryDateDisplay":"Last modified on Thu 12 Nov 2020 16.31 GMT","editionLongForm":"UK edition","editionId":"UK","pageId":"info/2019/apr/04/revisiting-the-rendering-tier","canonicalUrl":"https://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","format":{"design":"ArticleDesign","theme":"NewsPillar","display":"StandardDisplay"},"designType":"Article","tags":[{"id":"info/series/engineering-blog","type":"Series","title":"Engineering blog"},{"id":"info/info","type":"Keyword","title":"Information"},{"id":"type/article","type":"Type","title":"Article"}],"pillar":"news","isLegacyInteractive":false,"isImmersive":false,"sectionLabel":"Information","sectionUrl":"info/info","sectionName":"info","subMetaSectionLinks":[{"url":"/info/info","title":"Information"},{"url":"/info/series/engineering-blog","title":"Engineering blog"}],"subMetaKeywordLinks":[],"shouldHideAds":false,"isAdFreeUser":false,"webURL":"https://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","linkedData":[{"@type":"NewsArticle","@context":"https://schema.org","@id":"https://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","publisher":{"@type":"Organization","@context":"https://schema.org","@id":"https://www.theguardian.com#publisher","name":"The Guardian","url":"https://www.theguardian.com/","logo":{"@type":"ImageObject","url":"https://uploads.guim.co.uk/2018/01/31/TheGuardian_AMP.png","width":190,"height":60},"sameAs":["https://www.facebook.com/theguardian","https://twitter.com/guardian","https://www.youtube.com/user/TheGuardian"]},"isAccessibleForFree":true,"isPartOf":{"@type":["CreativeWork","Product"],"name":"The Guardian","productID":"theguardian.com:basic"},"image":["https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=03c48ecf55d6dee3f28e35d860404edd","https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=500c605e53a2fa7b199ca16c13b91562","https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&height=900&quality=85&auto=format&fit=crop&s=8f0db2e7dfc2e8f65bedbc7cde18dae8","https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&quality=85&auto=format&fit=max&s=420f90194c689b32f3e4ead274dd8e0f"],"author":[{"@type":"Person","name":"Guardian staff reporter"}],"datePublished":"2019-04-04T09:44:13.000Z","headline":"Revisiting the rendering tier","dateModified":"2020-11-12T16:31:07.000Z","mainEntityOfPage":"https://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier"},{"@type":"WebPage","@context":"https://schema.org","@id":"https://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","potentialAction":{"@type":"ViewAction","target":"android-app://com.guardian/https/www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier"}}],"openGraphData":{"og:url":"http://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","article:author":"Alex Sanders","og:image:width":"1200","og:image":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=03c48ecf55d6dee3f28e35d860404edd","al:ios:url":"gnmguardian://info/2019/apr/04/revisiting-the-rendering-tier?contenttype=Article&source=applinks","article:publisher":"https://www.facebook.com/theguardian","og:title":"Revisiting the rendering tier","fb:app_id":"180444840287","article:modified_time":"2020-11-12T16:31:07.000Z","og:image:height":"720","og:description":"From 62,783 lines of Sass to CSS-in-JS. Introducing the new server rendering layer for theguardian.com","og:type":"article","al:ios:app_store_id":"409128287","article:section":"Info","article:published_time":"2019-04-04T09:44:13.000Z","article:tag":"Information","al:ios:app_name":"The Guardian","og:site_name":"the Guardian"},"twitterData":{"twitter:app:id:iphone":"409128287","twitter:app:name:googleplay":"The Guardian","twitter:app:name:ipad":"The Guardian","twitter:card":"summary_large_image","twitter:app:name:iphone":"The Guardian","twitter:app:id:ipad":"409128287","twitter:app:id:googleplay":"com.guardian","twitter:app:url:googleplay":"guardian://www.theguardian.com/info/2019/apr/04/revisiting-the-rendering-tier","twitter:app:url:iphone":"gnmguardian://info/2019/apr/04/revisiting-the-rendering-tier?contenttype=Article&source=twitter","twitter:image":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/master/3500.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&s=9532b4792b3074ed47f71f626e634b52","twitter:site":"@guardian","twitter:app:url:ipad":"gnmguardian://info/2019/apr/04/revisiting-the-rendering-tier?contenttype=Article&source=twitter"},"config":{"switches":{"lightbox":true,"abPrebidKeywords":true,"personaliseSignInGateAfterCheckout":true,"abSignInGateMainVariant":true,"prebidAppnexusUkRow":true,"prebidMagnite":true,"commercialMetrics":true,"prebidTrustx":true,"scAdFreeBanner":false,"adaptiveSite":true,"prebidPermutiveAudience":true,"compareVariantDecision":false,"enableSentryReporting":true,"lazyLoadContainers":true,"ampArticleSwitch":false,"remarketing":true,"articleEndSlot":true,"keyEventsCarousel":true,"registerWithPhone":false,"darkModeWeb":true,"targeting":true,"remoteHeader":true,"slotBodyEnd":true,"ampPrebidOzone":false,"extendedMostPopularFronts":true,"emailInlineInFooter":true,"showNewPrivacyWordingOnEmailSignupEmbeds":true,"prebidAnalytics":true,"extendedMostPopular":true,"ampContentAbTesting":false,"prebidCriteo":true,"okta":true,"imrWorldwide":true,"acast":true,"twitterUwt":true,"abAuxiaSignInGate":false,"abDeferPermutiveLoad":true,"prebidAppnexusInvcode":true,"ampPrebidPubmatic":false,"a9HeaderBidding":true,"prebidAppnexus":true,"enableDiscussionSwitch":true,"prebidXaxis":true,"stickyVideos":true,"interactiveFullHeaderSwitch":true,"discussionAllPageSize":true,"prebidUserSync":true,"audioOnwardJourneySwitch":true,"abMovePermutiveSegmentation":false,"brazeTaylorReport":false,"externalVideoEmbeds":true,"abTheTradeDesk":true,"callouts":true,"sentinelLogger":true,"geoMostPopular":true,"weAreHiring":false,"relatedContent":true,"thirdPartyEmbedTracking":true,"prebidOzone":true,"ampLiveblogSwitch":false,"ampAmazon":false,"prebidAdYouLike":true,"mostViewedFronts":true,"optOutAdvertising":true,"abSignInGateMainControl":true,"googleSearch":true,"abOptOutFrequencyCap":true,"brazeSwitch":true,"prebidKargo":true,"consentManagement":true,"idProfileNavigation":true,"confiantAdVerification":true,"discussionAllowAnonymousRecommendsSwitch":false,"dcrCrosswords":true,"absoluteServerTimes":false,"permutive":true,"comscore":true,"ampPrebidCriteo":false,"prebidTheTradeDesk":true,"loopVideoTest":false,"newsletterOnwards":false,"youtubeIma":true,"webFonts":true,"liveBlogTopSponsorship":true,"abAdBlockAsk":false,"ophan":true,"crosswordSvgThumbnails":true,"prebidTriplelift":true,"prebidPubmatic":true,"serverShareCounts":false,"autoRefresh":true,"enhanceTweets":true,"prebidIndexExchange":true,"prebidOpenx":true,"prebidHeaderBidding":true,"idCookieRefresh":true,"discussionPageSize":true,"smartAppBanner":false,"historyTags":true,"brazeContentCards":true,"remoteBanner":true,"emailSignupRecaptcha":true,"prebidSmart":true,"shouldLoadGoogletag":true,"inizio":true,"europeBetaFront":true},"abTests":{},"googletagUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","stage":"PROD","frontendAssetsFullURL":"https://assets.guim.co.uk/","ampIframeUrl":"https://assets.guim.co.uk/data/vendor/2533d5cb94302889e6a8f1b24b5329e7/amp-iframe.html","tones":"","facebookIaAdUnitRoot":"facebook-instant-articles","avatarApiUrl":"https://avatar.theguardian.com","isSplash":false,"isColumn":false,"membershipUrl":"https://membership.theguardian.com","headline":"Revisiting the rendering tier","isImmersive":false,"author":"","ipsosTag":"guardian","isProd":true,"series":"Engineering blog","toneIds":"","membershipAccess":"","allowUserGeneratedContent":false,"commissioningDesks":"","webPublicationDate":1554371053000,"forecastsapiurl":"/weatherapi/forecast","supportUrl":"https://support.theguardian.com","isNumberedList":false,"commercialBundleUrl":"https://assets.guim.co.uk/commercial/47e59a6f2531251d895a/graun.standalone.commercial.js","idOAuthUrl":"https://oauth.theguardian.com","webTitle":"Revisiting the rendering tier","isPhotoEssay":false,"idWebAppUrl":"https://oauth.theguardian.com","a9PublisherId":"3722","isFront":false,"inBodyInternalLinkCount":2,"googleSearchUrl":"//www.google.co.uk/cse/cse.js","inBodyExternalLinkCount":8,"showRelatedContent":true,"lightboxImages":{"id":"info/2019/apr/04/revisiting-the-rendering-tier","headline":"Revisiting the rendering tier","shouldHideAdverts":false,"standfirst":"<p>From 62,783 lines of Sass to CSS-in-JS. Introducing the new server rendering layer for theguardian.com</p>","images":[{"caption":"The road to a better developer experience is long and winding. ","credit":"Photograph: Arnd Wiegmann/Reuters","displayCredit":true,"src":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=700&quality=85&auto=format&fit=max&s=d35a04feb258846bfeace5d03f12ebdf","srcsets":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1920&quality=85&auto=format&fit=max&s=b4e3b3632e01e3658f6415cd85719981 1920w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1225&quality=85&auto=format&fit=max&s=36d3a0ab55852a73d246b1f1bdc91089 1225w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=1065&quality=85&auto=format&fit=max&s=355a5c2a3266edaf87dcff6ec518ac5f 1065w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=965&quality=85&auto=format&fit=max&s=3ba8cd7ec2b6b4cc5572ac567312e9b4 965w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=725&quality=85&auto=format&fit=max&s=46cabe75d1e01ed95037725d76f62cd5 725w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=645&quality=85&auto=format&fit=max&s=9b897df4586228f578e01e1cfa758edc 645w, https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_0_3500_2386/master/3500.jpg?width=465&quality=85&auto=format&fit=max&s=8720a44ba54fea5ee0ae58d19bb7a1f4 465w","sizes":"(min-width: 1300px) 1920px, (min-width: 1140px) 1225px, (min-width: 980px) 1065px, (min-width: 740px) 965px, (min-width: 660px) 725px, (min-width: 480px) 645px, 465px","ratio":1.4668901927912825,"role":"None","parentContentId":"info/2019/apr/04/revisiting-the-rendering-tier","id":"info/2019/apr/04/revisiting-the-rendering-tier"}]},"googleSearchId":"007466294097402385199:m2ealvuxh1i","shouldHideReaderRevenue":false,"idUrl":"https://profile.theguardian.com","hasSurveyAd":false,"omnitureAmpAccount":"guardiangu-thirdpartyapps","dfpAdUnitRoot":"theguardian.com","host":"https://www.theguardian.com","blogIds":"","sectionName":"Info","hasMultipleVideosInPage":false,"hasShowcaseMainElement":false,"googleRecaptchaSiteKey":"6LdzlmsdAAAAALFH63cBVagSFPuuHXQ9OfpIDdMc","fbAppId":"180444840287","isContent":true,"shortUrlId":"/p/a8dm4","dfpAccountId":"59666047","plistaPublicApiKey":"462925f4f131001fd974bebe","wordCount":2173,"hasLiveBlogTopAd":false,"dcrSentryDsn":"https://1937ab71c8804b2b8438178dfdd6468f@sentry.io/1377847","cardStyle":"news","adUnit":"/59666047/theguardian.com/info/article/ng","discussionApiUrl":"https://discussion.theguardian.com/discussion-api","isSensitive":false,"ophanEmbedJsUrl":"//j.ophan.co.uk/ophan.embed","edition":"UK","brazeApiKey":"7f28c639-8bda-48ff-a3f6-24345abfc07c","blogs":"","discussionApiClientHeader":"nextgen","section":"info","userAttributesApiUrl":"https://members-data-api.theguardian.com/user-attributes","videoDuration":0,"dfpHost":"pubads.g.doubleclick.net","weatherapiurl":"/weatherapi/city","sentryPublicApiKey":"344003a8d11c41d8800fbad8383fdc50","shortUrl":"https://www.theguardian.com/p/a8dm4","thumbnail":"https://i.guim.co.uk/img/media/cefa091c09fbfe19dc3f19d0c3a53da592846779/0_285_3500_2101/500.jpg?quality=85&auto=format&fit=max&s=d9b67d1525933f5ada9cdf2e4be42d07","pillar":"News","pageId":"info/2019/apr/04/revisiting-the-rendering-tier","references":[],"beaconUrl":"//phar.gu-web.net","commentable":true,"discussionD2Uid":"zHoBy6HNKsk","ophanJsUrl":"//j.ophan.co.uk/ophan.ng","contributorBio":"Alex Sanders is a lead software engineer at the Guardian","keywordIds":"info/info","contentType":"Article","isDev":false,"isHosted":false,"isAdFree":false,"stripePublicToken":"pk_live_2O6zPMHXNs2AGea4bAmq5R7Z","omnitureAccount":"guardiangu-network","locationapiurl":"/weatherapi/locations?query=","authorIds":"","isPaidContent":false,"hasYouTubeAtom":false,"externalEmbedHost":"https://embed.theguardian.com","thirdPartyAppsAccount":"guardiangu-thirdpartyapps","ajaxUrl":"https://api.nextgen.guardianapps.co.uk","byline":"Alex Sanders","keywords":"Information","contentId":"info/2019/apr/04/revisiting-the-rendering-tier","nonKeywordTagIds":"info/series/engineering-blog,type/article","mobileAppsAdUnitRoot":"beta-guardian-app","hasPageSkin":false,"requiresMembershipAccess":false,"seriesTags":"Engineering blog","revisionNumber":"DEV","seriesId":"info/series/engineering-blog","optimizeEpicUrl":"https://support.theguardian.com/epic/control/index.html","assetsPath":"https://assets.guim.co.uk/","mmaUrl":"https://manage.theguardian.com","isLive":false,"richLink":"","campaigns":[],"isLiveBlog":false,"pageCode":"5481949","avatarImagesUrl":"https://avatar.guim.co.uk","publication":"theguardian.com","sentryHost":"app.getsentry.com/35463","buildNumber":"DEV","atomTypes":{"review":false,"guide":true,"audio":false,"explainer":false,"interactive":false,"profile":false,"chart":false,"quizz":false,"commonsdivision":false,"timeline":false,"media":false,"qanda":false},"userBenefitsApiUrl":"https://user-benefits.guardianapis.com/benefits/me","sharedAdTargeting":{"se":["engineering-blog"],"ct":"article","url":"/info/2019/apr/04/revisiting-the-rendering-tier","su":["0"],"edition":"uk","p":"ng","k":["info"],"sh":"https://www.theguardian.com/p/a8dm4"},"onwardWebSocket":"ws://api.nextgen.guardianapps.co.uk/recently-published","productionOffice":"Uk","shouldHideAdverts":false,"idApiUrl":"https://idapi.theguardian.com","pbIndexSites":[{"bp":"D","id":208247},{"bp":"M","id":213519},{"bp":"T","id":215454}],"googletagJsUrl":"//securepubads.g.doubleclick.net/tag/js/gpt.js","atoms":["cfee56d3-053e-46e7-9d03-ec0704b3d476"],"calloutsUrl":"https://callouts.guardianapis.com/formstack-campaign/submit","isPreview":false},"guardianBaseURL":"https://www.theguardian.com","contentType":"Article","hasRelated":true,"hasStoryPackage":false,"beaconURL":"//phar.gu-web.net","isCommentable":true,"commercialProperties":{"US":{"adTargeting":[{"name":"sh","value":"https://www.theguardian.com/p/a8dm4"},{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"edition","value":"us"},{"name":"ct","value":"article"},{"name":"url","value":"/info/2019/apr/04/revisiting-the-rendering-tier"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"AU":{"adTargeting":[{"name":"sh","value":"https://www.theguardian.com/p/a8dm4"},{"name":"su","value":["0"]},{"name":"ct","value":"article"},{"name":"url","value":"/info/2019/apr/04/revisiting-the-rendering-tier"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"},{"name":"k","value":["info"]},{"name":"edition","value":"au"}]},"UK":{"adTargeting":[{"name":"sh","value":"https://www.theguardian.com/p/a8dm4"},{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"edition","value":"uk"},{"name":"ct","value":"article"},{"name":"url","value":"/info/2019/apr/04/revisiting-the-rendering-tier"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"INT":{"adTargeting":[{"name":"sh","value":"https://www.theguardian.com/p/a8dm4"},{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"ct","value":"article"},{"name":"url","value":"/info/2019/apr/04/revisiting-the-rendering-tier"},{"name":"edition","value":"int"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]},"EUR":{"adTargeting":[{"name":"sh","value":"https://www.theguardian.com/p/a8dm4"},{"name":"su","value":["0"]},{"name":"k","value":["info"]},{"name":"ct","value":"article"},{"name":"url","value":"/info/2019/apr/04/revisiting-the-rendering-tier"},{"name":"edition","value":"eur"},{"name":"se","value":["engineering-blog"]},{"name":"p","value":"ng"}]}},"pageType":{"hasShowcaseMainElement":false,"isFront":false,"isLiveblog":false,"isMinuteArticle":false,"isPaidContent":false,"isPreview":false,"isSensitive":false},"trailText":"From 62,783 lines of Sass to CSS-in-JS. Introducing the new server rendering layer for theguardian.com","nav":{"currentUrl":"/info","pillars":[{"title":"News","url":"/","longTitle":"Headlines","iconName":"home","children":[{"title":"UK","url":"/uk-news","longTitle":"UK news","children":[{"title":"UK politics","url":"/politics"},{"title":"Education","url":"/education","children":[{"title":"Schools","url":"/education/schools"},{"title":"Teachers","url":"/teacher-network"},{"title":"Universities","url":"/education/universities"},{"title":"Students","url":"/education/students"}]},{"title":"Media","url":"/media"},{"title":"Society","url":"/society"},{"title":"Law","url":"/law"},{"title":"Scotland","url":"/uk/scotland"},{"title":"Wales","url":"/uk/wales"},{"title":"Northern Ireland","url":"/uk/northernireland"}]},{"title":"US politics","url":"/us-news/us-politics"},{"title":"World","url":"/world","longTitle":"World news","children":[{"title":"Europe","url":"/world/europe-news"},{"title":"US","url":"/us-news","longTitle":"US news"},{"title":"Americas","url":"/world/americas"},{"title":"Asia","url":"/world/asia"},{"title":"Australia","url":"/australia-news","longTitle":"Australia news"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Africa","url":"/world/africa"},{"title":"Inequality","url":"/inequality"},{"title":"Global development","url":"/global-development"}]},{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Middle East","url":"/world/middleeast"},{"title":"Ukraine","url":"/world/ukraine"},{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Business","url":"/business","children":[{"title":"Economics","url":"/business/economics"},{"title":"Banking","url":"/business/banking"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Markets","url":"/business/stock-markets"},{"title":"Project Syndicate","url":"/business/series/project-syndicate-economists"},{"title":"B2B","url":"/business-to-business"},{"title":"Retail","url":"/business/retail"}]},{"title":"Environment","url":"/environment","children":[{"title":"Climate crisis","url":"/environment/climate-crisis"},{"title":"Wildlife","url":"/environment/wildlife"},{"title":"Energy","url":"/environment/energy"},{"title":"Pollution","url":"/environment/pollution"}]},{"title":"UK politics","url":"/politics"},{"title":"Society","url":"/society"},{"title":"Science","url":"/science"},{"title":"Tech","url":"/technology"},{"title":"Global development","url":"/global-development"},{"title":"Obituaries","url":"/obituaries"}]},{"title":"Opinion","url":"/commentisfree","longTitle":"Opinion home","iconName":"home","children":[{"title":"The Guardian view","url":"/profile/editorial"},{"title":"Columnists","url":"/index/contributors"},{"title":"Cartoons","url":"/tone/cartoons"},{"title":"Opinion videos","url":"/type/video+tone/comment"},{"title":"Letters","url":"/tone/letters"}]},{"title":"Sport","url":"/sport","longTitle":"Sport home","iconName":"home","children":[{"title":"Football","url":"/football","children":[{"title":"Live scores","url":"/football/live","longTitle":"football/live"},{"title":"Tables","url":"/football/tables","longTitle":"football/tables"},{"title":"Fixtures","url":"/football/fixtures","longTitle":"football/fixtures"},{"title":"Results","url":"/football/results","longTitle":"football/results"},{"title":"Competitions","url":"/football/competitions","longTitle":"football/competitions"},{"title":"Clubs","url":"/football/teams","longTitle":"football/teams"}]},{"title":"Cricket","url":"/sport/cricket"},{"title":"Rugby union","url":"/sport/rugby-union"},{"title":"Tennis","url":"/sport/tennis"},{"title":"Cycling","url":"/sport/cycling"},{"title":"F1","url":"/sport/formulaone"},{"title":"Golf","url":"/sport/golf"},{"title":"Boxing","url":"/sport/boxing"},{"title":"Rugby league","url":"/sport/rugbyleague"},{"title":"Racing","url":"/sport/horse-racing"},{"title":"US sports","url":"/sport/us-sport"}]},{"title":"Culture","url":"/culture","longTitle":"Culture home","iconName":"home","children":[{"title":"Film","url":"/film"},{"title":"Music","url":"/music"},{"title":"TV & radio","url":"/tv-and-radio"},{"title":"Books","url":"/books"},{"title":"Art & design","url":"/artanddesign"},{"title":"Stage","url":"/stage"},{"title":"Games","url":"/games"},{"title":"Classical","url":"/music/classicalmusicandopera"}]},{"title":"Lifestyle","url":"/lifeandstyle","longTitle":"Lifestyle home","iconName":"home","children":[{"title":"The Filter","url":"/uk/thefilter"},{"title":"Fashion","url":"/fashion"},{"title":"Food","url":"/food"},{"title":"Recipes","url":"/tone/recipes"},{"title":"Travel","url":"/travel","children":[{"title":"UK","url":"/travel/uk"},{"title":"Europe","url":"/travel/europe"},{"title":"US","url":"/travel/usa"}]},{"title":"Health & fitness","url":"/lifeandstyle/health-and-wellbeing"},{"title":"Women","url":"/lifeandstyle/women"},{"title":"Men","url":"/lifeandstyle/men"},{"title":"Love & sex","url":"/lifeandstyle/love-and-sex"},{"title":"Beauty","url":"/fashion/beauty"},{"title":"Home & garden","url":"/lifeandstyle/home-and-garden"},{"title":"Money","url":"/money","children":[{"title":"Property","url":"/money/property"},{"title":"Pensions","url":"/money/pensions"},{"title":"Savings","url":"/money/savings"},{"title":"Borrowing","url":"/money/debt"},{"title":"Careers","url":"/money/work-and-careers"}]},{"title":"Cars","url":"/technology/motoring"}]}],"otherLinks":[{"title":"The Guardian app","url":"https://app.adjust.com/16xt6hai"},{"title":"Video","url":"/video"},{"title":"Podcasts","url":"/podcasts"},{"title":"Pictures","url":"/inpictures"},{"title":"Newsletters","url":"/email-newsletters"},{"title":"Today's paper","url":"/theguardian","children":[{"title":"Obituaries","url":"/obituaries"},{"title":"G2","url":"/theguardian/g2"},{"title":"Journal","url":"/theguardian/journal"},{"title":"Saturday","url":"/theguardian/saturday"}]},{"title":"Inside the Guardian","url":"https://www.theguardian.com/insidetheguardian"},{"title":"The Observer","url":"/observer","children":[{"title":"Comment","url":"/theobserver/news/comment"},{"title":"The New Review","url":"/theobserver/new-review"},{"title":"Observer Magazine","url":"/theobserver/magazine"},{"title":"Observer Food Monthly","url":"/theobserver/foodmonthly"}]},{"title":"Guardian Weekly","url":"https://www.theguardian.com/weekly?INTCMP=gdnwb_mawns_editorial_gweekly_GW_TopNav_UK"},{"title":"Crosswords","url":"/crosswords","children":[{"title":"Blog","url":"/crosswords/crossword-blog"},{"title":"Quick","url":"/crosswords/series/quick"},{"title":"Speedy","url":"/crosswords/series/speedy"},{"title":"Quick cryptic","url":"/crosswords/series/quick-cryptic"},{"title":"Everyman","url":"/crosswords/series/everyman"},{"title":"Quiptic","url":"/crosswords/series/quiptic"},{"title":"Cryptic","url":"/crosswords/series/cryptic"},{"title":"Prize","url":"/crosswords/series/prize"},{"title":"Azed","url":"/crosswords/series/azed"},{"title":"Genius","url":"/crosswords/series/genius"},{"title":"Weekend","url":"/crosswords/series/weekend-crossword"},{"title":"Special","url":"/crosswords/series/special"}]},{"title":"Wordiply","url":"https://www.wordiply.com"},{"title":"Corrections","url":"/theguardian/series/corrections-and-clarifications"}],"brandExtensions":[{"title":"Search jobs","url":"https://jobs.theguardian.com"},{"title":"Hire with Guardian Jobs","url":"https://recruiters.theguardian.com/?utm_source=gdnwb&utm_medium=navbar&utm_campaign=Guardian_Navbar_Recruiters&CMP_TU=trdmkt&CMP_BUNIT=jobs"},{"title":"Holidays","url":"https://holidays.theguardian.com?INTCMP=holidays_uk_web_newheader"},{"title":"Live events","url":"https://www.theguardian.com/guardian-live-events?INTCMP=live_uk_header_dropdown"},{"title":"About Us","url":"/about"},{"title":"Digital Archive","url":"https://theguardian.newspapers.com"},{"title":"Guardian Print Shop","url":"/artanddesign/series/gnm-print-sales"},{"title":"Patrons","url":"https://patrons.theguardian.com/?INTCMP=header_patrons"},{"title":"Guardian Licensing","url":"https://licensing.theguardian.com/"}],"readerRevenueLinks":{"header":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"footer":{"contribute":"https://support.theguardian.com/contribute?INTCMP=footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_supporter_cta%22%7D"},"sideMenu":{"contribute":"https://support.theguardian.com/contribute?INTCMP=side_menu_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=side_menu_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=side_menu_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22side_menu_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=mobilenav_print_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22mobilenav_print_cta%22%7D"},"ampHeader":{"contribute":"https://support.theguardian.com/contribute?INTCMP=header_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=header_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=amp_header_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22amp_header_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=header_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_HEADER%22,%22componentId%22:%22header_supporter_cta%22%7D"},"ampFooter":{"contribute":"https://support.theguardian.com/contribute?INTCMP=amp_footer_support_contribute&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_contribute%22%7D","subscribe":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_support_subscribe&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_support_subscribe%22%7D","support":"https://support.theguardian.com?INTCMP=footer_support&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22footer_support%22%7D","supporter":"https://support.theguardian.com/subscribe?INTCMP=amp_footer_supporter_cta&acquisitionData=%7B%22source%22:%22GUARDIAN_WEB%22,%22componentType%22:%22ACQUISITIONS_FOOTER%22,%22componentId%22:%22amp_footer_supporter_cta%22%7D"}}},"showBottomSocialButtons":true,"pageFooter":{"footerLinks":[[{"text":"About us","url":"/about","dataLinkName":"uk : footer : about us","extraClasses":""},{"text":"Help","url":"https://manage.theguardian.com/help-centre","dataLinkName":"uk : footer : tech feedback","extraClasses":"js-tech-feedback-report"},{"text":"Complaints & corrections","url":"/info/complaints-and-corrections","dataLinkName":"complaints","extraClasses":""},{"text":"SecureDrop","url":"https://www.theguardian.com/securedrop","dataLinkName":"securedrop","extraClasses":""},{"text":"Work for us","url":"https://workforus.theguardian.com","dataLinkName":"uk : footer : work for us","extraClasses":""},{"text":"Privacy policy","url":"/info/privacy","dataLinkName":"privacy","extraClasses":""},{"text":"Cookie policy","url":"/info/cookies","dataLinkName":"cookie","extraClasses":""},{"text":"Terms & conditions","url":"/help/terms-of-service","dataLinkName":"terms","extraClasses":""},{"text":"Contact us","url":"/help/contact-us","dataLinkName":"uk : footer : contact us","extraClasses":""}],[{"text":"All topics","url":"/index/subjects/a","dataLinkName":"uk : footer : all topics","extraClasses":""},{"text":"All writers","url":"/index/contributors","dataLinkName":"uk : footer : all contributors","extraClasses":""},{"text":"Modern Slavery Act","url":"https://uploads.guim.co.uk/2024/09/04/Modern_Slavery_Statement_2024_.pdf","dataLinkName":"uk : footer : modern slavery act statement","extraClasses":""},{"text":"Tax strategy","url":"https://uploads.guim.co.uk/2024/08/27/TAX_STRATEGY_FOR_THE_YEAR_ENDED_31_MARCH_2025.pdf","dataLinkName":"uk : footer : tax strategy","extraClasses":""},{"text":"Digital newspaper archive","url":"https://theguardian.newspapers.com","dataLinkName":"digital newspaper archive","extraClasses":""},{"text":"Facebook","url":"https://www.facebook.com/theguardian","dataLinkName":"uk : footer : facebook","extraClasses":""},{"text":"YouTube","url":"https://www.youtube.com/user/TheGuardian","dataLinkName":"uk : footer : youtube","extraClasses":""},{"text":"Instagram","url":"https://www.instagram.com/guardian","dataLinkName":"uk : footer : instagram","extraClasses":""},{"text":"LinkedIn","url":"https://www.linkedin.com/company/theguardian","dataLinkName":"uk : footer : linkedin","extraClasses":""},{"text":"Newsletters","url":"/email-newsletters?INTCMP=DOTCOM_FOOTER_NEWSLETTER_UK","dataLinkName":"uk : footer : newsletters","extraClasses":""}],[{"text":"Advertise with us","url":"https://advertising.theguardian.com","dataLinkName":"uk : footer : advertise with us","extraClasses":""},{"text":"Guardian Labs","url":"/guardian-labs","dataLinkName":"uk : footer : guardian labs","extraClasses":""},{"text":"Search jobs","url":"https://jobs.theguardian.com","dataLinkName":"uk : footer : jobs","extraClasses":""},{"text":"Patrons","url":"https://patrons.theguardian.com?INTCMP=footer_patrons","dataLinkName":"uk : footer : patrons","extraClasses":""}]]},"publication":"theguardian.com","shouldHideReaderRevenue":false,"slotMachineFlags":"","contributionsServiceUrl":"https://contributions.guardianapis.com","isSpecialReport":false,"showTableOfContents":false,"lang":"en","isRightToLeftLang":false}